(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var tc={exports:{}},bs={},nc={exports:{}},I={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xr=Symbol.for("react.element"),Od=Symbol.for("react.portal"),Md=Symbol.for("react.fragment"),Id=Symbol.for("react.strict_mode"),Ld=Symbol.for("react.profiler"),$d=Symbol.for("react.provider"),Fd=Symbol.for("react.context"),Bd=Symbol.for("react.forward_ref"),Ud=Symbol.for("react.suspense"),Vd=Symbol.for("react.memo"),Wd=Symbol.for("react.lazy"),Ma=Symbol.iterator;function Hd(e){return e===null||typeof e!="object"?null:(e=Ma&&e[Ma]||e["@@iterator"],typeof e=="function"?e:null)}var rc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sc=Object.assign,oc={};function En(e,t,n){this.props=e,this.context=t,this.refs=oc,this.updater=n||rc}En.prototype.isReactComponent={};En.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};En.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ic(){}ic.prototype=En.prototype;function Pi(e,t,n){this.props=e,this.context=t,this.refs=oc,this.updater=n||rc}var bi=Pi.prototype=new ic;bi.constructor=Pi;sc(bi,En.prototype);bi.isPureReactComponent=!0;var Ia=Array.isArray,ac=Object.prototype.hasOwnProperty,Ri={current:null},lc={key:!0,ref:!0,__self:!0,__source:!0};function cc(e,t,n){var r,s={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)ac.call(t,r)&&!lc.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:xr,type:e,key:o,ref:a,props:s,_owner:Ri.current}}function Qd(e,t){return{$$typeof:xr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ti(e){return typeof e=="object"&&e!==null&&e.$$typeof===xr}function qd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var La=/\/+/g;function Xs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qd(""+e.key):t.toString(36)}function Ur(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case xr:case Od:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Xs(a,0):r,Ia(s)?(n="",e!=null&&(n=e.replace(La,"$&/")+"/"),Ur(s,t,n,"",function(u){return u})):s!=null&&(Ti(s)&&(s=Qd(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(La,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Ia(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+Xs(o,l);a+=Ur(o,t,n,c,s)}else if(c=Hd(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+Xs(o,l++),a+=Ur(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function jr(e,t,n){if(e==null)return e;var r=[],s=0;return Ur(e,r,"","",function(o){return t.call(n,o,s++)}),r}function Xd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ve={current:null},Vr={transition:null},Kd={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:Vr,ReactCurrentOwner:Ri};function uc(){throw Error("act(...) is not supported in production builds of React.")}I.Children={map:jr,forEach:function(e,t,n){jr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return jr(e,function(){t++}),t},toArray:function(e){return jr(e,function(t){return t})||[]},only:function(e){if(!Ti(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};I.Component=En;I.Fragment=Md;I.Profiler=Ld;I.PureComponent=Pi;I.StrictMode=Id;I.Suspense=Ud;I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kd;I.act=uc;I.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=sc({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Ri.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ac.call(t,c)&&!lc.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:xr,type:e.type,key:s,ref:o,props:r,_owner:a}};I.createContext=function(e){return e={$$typeof:Fd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$d,_context:e},e.Consumer=e};I.createElement=cc;I.createFactory=function(e){var t=cc.bind(null,e);return t.type=e,t};I.createRef=function(){return{current:null}};I.forwardRef=function(e){return{$$typeof:Bd,render:e}};I.isValidElement=Ti;I.lazy=function(e){return{$$typeof:Wd,_payload:{_status:-1,_result:e},_init:Xd}};I.memo=function(e,t){return{$$typeof:Vd,type:e,compare:t===void 0?null:t}};I.startTransition=function(e){var t=Vr.transition;Vr.transition={};try{e()}finally{Vr.transition=t}};I.unstable_act=uc;I.useCallback=function(e,t){return ve.current.useCallback(e,t)};I.useContext=function(e){return ve.current.useContext(e)};I.useDebugValue=function(){};I.useDeferredValue=function(e){return ve.current.useDeferredValue(e)};I.useEffect=function(e,t){return ve.current.useEffect(e,t)};I.useId=function(){return ve.current.useId()};I.useImperativeHandle=function(e,t,n){return ve.current.useImperativeHandle(e,t,n)};I.useInsertionEffect=function(e,t){return ve.current.useInsertionEffect(e,t)};I.useLayoutEffect=function(e,t){return ve.current.useLayoutEffect(e,t)};I.useMemo=function(e,t){return ve.current.useMemo(e,t)};I.useReducer=function(e,t,n){return ve.current.useReducer(e,t,n)};I.useRef=function(e){return ve.current.useRef(e)};I.useState=function(e){return ve.current.useState(e)};I.useSyncExternalStore=function(e,t,n){return ve.current.useSyncExternalStore(e,t,n)};I.useTransition=function(){return ve.current.useTransition()};I.version="18.3.1";nc.exports=I;var _=nc.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd=_,Yd=Symbol.for("react.element"),Zd=Symbol.for("react.fragment"),Jd=Object.prototype.hasOwnProperty,ef=Gd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tf={key:!0,ref:!0,__self:!0,__source:!0};function dc(e,t,n){var r,s={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Jd.call(t,r)&&!tf.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Yd,type:e,key:o,ref:a,props:s,_owner:ef.current}}bs.Fragment=Zd;bs.jsx=dc;bs.jsxs=dc;tc.exports=bs;var i=tc.exports,fc={exports:{}},Te={},pc={exports:{}},hc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,A){var M=C.length;C.push(A);e:for(;0<M;){var K=M-1>>>1,te=C[K];if(0<s(te,A))C[K]=A,C[M]=te,M=K;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var A=C[0],M=C.pop();if(M!==A){C[0]=M;e:for(var K=0,te=C.length,Yt=te>>>1;K<Yt;){var rt=2*(K+1)-1,W=C[rt],V=rt+1,Ae=C[V];if(0>s(W,M))V<te&&0>s(Ae,W)?(C[K]=Ae,C[V]=M,K=V):(C[K]=W,C[rt]=M,K=rt);else if(V<te&&0>s(Ae,M))C[K]=Ae,C[V]=M,K=V;else break e}}return A}function s(C,A){var M=C.sortIndex-A.sortIndex;return M!==0?M:C.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,g=null,m=3,w=!1,v=!1,N=!1,D=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(C){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=C)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function x(C){if(N=!1,p(C),!v)if(n(c)!==null)v=!0,O(y);else{var A=n(u);A!==null&&L(x,A.startTime-C)}}function y(C,A){v=!1,N&&(N=!1,f(E),E=-1),w=!0;var M=m;try{for(p(A),g=n(c);g!==null&&(!(g.expirationTime>A)||C&&!se());){var K=g.callback;if(typeof K=="function"){g.callback=null,m=g.priorityLevel;var te=K(g.expirationTime<=A);A=e.unstable_now(),typeof te=="function"?g.callback=te:g===n(c)&&r(c),p(A)}else r(c);g=n(c)}if(g!==null)var Yt=!0;else{var rt=n(u);rt!==null&&L(x,rt.startTime-A),Yt=!1}return Yt}finally{g=null,m=M,w=!1}}var S=!1,k=null,E=-1,z=5,R=-1;function se(){return!(e.unstable_now()-R<z)}function ae(){if(k!==null){var C=e.unstable_now();R=C;var A=!0;try{A=k(!0,C)}finally{A?Ke():(S=!1,k=null)}}else S=!1}var Ke;if(typeof d=="function")Ke=function(){d(ae)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,P=T.port2;T.port1.onmessage=ae,Ke=function(){P.postMessage(null)}}else Ke=function(){D(ae,0)};function O(C){k=C,S||(S=!0,Ke())}function L(C,A){E=D(function(){C(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){v||w||(v=!0,O(y))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(C){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var M=m;m=A;try{return C()}finally{m=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,A){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var M=m;m=C;try{return A()}finally{m=M}},e.unstable_scheduleCallback=function(C,A,M){var K=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?K+M:K):M=K,C){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=M+te,C={id:h++,callback:A,priorityLevel:C,startTime:M,expirationTime:te,sortIndex:-1},M>K?(C.sortIndex=M,t(u,C),n(c)===null&&C===n(u)&&(N?(f(E),E=-1):N=!0,L(x,M-K))):(C.sortIndex=te,t(c,C),v||w||(v=!0,O(y))),C},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(C){var A=m;return function(){var M=m;m=A;try{return C.apply(this,arguments)}finally{m=M}}}})(hc);pc.exports=hc;var nf=pc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rf=_,Re=nf;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mc=new Set,Jn={};function Kt(e,t){vn(e,t),vn(e+"Capture",t)}function vn(e,t){for(Jn[e]=t,e=0;e<t.length;e++)mc.add(t[e])}var ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Co=Object.prototype.hasOwnProperty,sf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$a={},Fa={};function of(e){return Co.call(Fa,e)?!0:Co.call($a,e)?!1:sf.test(e)?Fa[e]=!0:($a[e]=!0,!1)}function af(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lf(e,t,n,r){if(t===null||typeof t>"u"||af(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function we(e,t,n,r,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fe[e]=new we(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];fe[t]=new we(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fe[e]=new we(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fe[e]=new we(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fe[e]=new we(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){fe[e]=new we(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fe[e]=new we(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fe[e]=new we(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fe[e]=new we(e,5,!1,e.toLowerCase(),null,!1,!1)});var Di=/[\-:]([a-z])/g;function Ai(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Di,Ai);fe[t]=new we(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Di,Ai);fe[t]=new we(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Di,Ai);fe[t]=new we(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fe[e]=new we(e,1,!1,e.toLowerCase(),null,!1,!1)});fe.xlinkHref=new we("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fe[e]=new we(e,1,!1,e.toLowerCase(),null,!0,!0)});function zi(e,t,n,r){var s=fe.hasOwnProperty(t)?fe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lf(t,n,s,r)&&(n=null),r||s===null?of(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ht=rf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sr=Symbol.for("react.element"),Jt=Symbol.for("react.portal"),en=Symbol.for("react.fragment"),Oi=Symbol.for("react.strict_mode"),Eo=Symbol.for("react.profiler"),gc=Symbol.for("react.provider"),yc=Symbol.for("react.context"),Mi=Symbol.for("react.forward_ref"),_o=Symbol.for("react.suspense"),Po=Symbol.for("react.suspense_list"),Ii=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),xc=Symbol.for("react.offscreen"),Ba=Symbol.iterator;function Rn(e){return e===null||typeof e!="object"?null:(e=Ba&&e[Ba]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Object.assign,Ks;function $n(e){if(Ks===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ks=t&&t[1]||""}return`
`+Ks+e}var Gs=!1;function Ys(e,t){if(!e||Gs)return"";Gs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Gs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$n(e):""}function cf(e){switch(e.tag){case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return $n("Suspense");case 19:return $n("SuspenseList");case 0:case 2:case 15:return e=Ys(e.type,!1),e;case 11:return e=Ys(e.type.render,!1),e;case 1:return e=Ys(e.type,!0),e;default:return""}}function bo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case en:return"Fragment";case Jt:return"Portal";case Eo:return"Profiler";case Oi:return"StrictMode";case _o:return"Suspense";case Po:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yc:return(e.displayName||"Context")+".Consumer";case gc:return(e._context.displayName||"Context")+".Provider";case Mi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ii:return t=e.displayName||null,t!==null?t:bo(e.type)||"Memo";case gt:t=e._payload,e=e._init;try{return bo(e(t))}catch{}}return null}function uf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bo(t);case 8:return t===Oi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Tt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function df(e){var t=vc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cr(e){e._valueTracker||(e._valueTracker=df(e))}function wc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ss(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ro(e,t){var n=t.checked;return Z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ua(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Tt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nc(e,t){t=t.checked,t!=null&&zi(e,"checked",t,!1)}function To(e,t){Nc(e,t);var n=Tt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Do(e,t.type,n):t.hasOwnProperty("defaultValue")&&Do(e,t.type,Tt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Va(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Do(e,t,n){(t!=="number"||ss(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Fn=Array.isArray;function fn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Tt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ao(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return Z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wa(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(j(92));if(Fn(n)){if(1<n.length)throw Error(j(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Tt(n)}}function kc(e,t){var n=Tt(t.value),r=Tt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ha(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Er,Sc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Er=Er||document.createElement("div"),Er.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Er.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function er(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ff=["Webkit","ms","Moz","O"];Object.keys(Wn).forEach(function(e){ff.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wn[t]=Wn[e]})});function Cc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Wn.hasOwnProperty(e)&&Wn[e]?(""+t).trim():t+"px"}function Ec(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Cc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var pf=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oo(e,t){if(t){if(pf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function Mo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Io=null;function Li(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lo=null,pn=null,hn=null;function Qa(e){if(e=Nr(e)){if(typeof Lo!="function")throw Error(j(280));var t=e.stateNode;t&&(t=zs(t),Lo(e.stateNode,e.type,t))}}function _c(e){pn?hn?hn.push(e):hn=[e]:pn=e}function Pc(){if(pn){var e=pn,t=hn;if(hn=pn=null,Qa(e),t)for(e=0;e<t.length;e++)Qa(t[e])}}function bc(e,t){return e(t)}function Rc(){}var Zs=!1;function Tc(e,t,n){if(Zs)return e(t,n);Zs=!0;try{return bc(e,t,n)}finally{Zs=!1,(pn!==null||hn!==null)&&(Rc(),Pc())}}function tr(e,t){var n=e.stateNode;if(n===null)return null;var r=zs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var $o=!1;if(ut)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){$o=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{$o=!1}function hf(e,t,n,r,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var Hn=!1,os=null,is=!1,Fo=null,mf={onError:function(e){Hn=!0,os=e}};function gf(e,t,n,r,s,o,a,l,c){Hn=!1,os=null,hf.apply(mf,arguments)}function yf(e,t,n,r,s,o,a,l,c){if(gf.apply(this,arguments),Hn){if(Hn){var u=os;Hn=!1,os=null}else throw Error(j(198));is||(is=!0,Fo=u)}}function Gt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Dc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qa(e){if(Gt(e)!==e)throw Error(j(188))}function xf(e){var t=e.alternate;if(!t){if(t=Gt(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return qa(s),e;if(o===r)return qa(s),t;o=o.sibling}throw Error(j(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function Ac(e){return e=xf(e),e!==null?zc(e):null}function zc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zc(e);if(t!==null)return t;e=e.sibling}return null}var Oc=Re.unstable_scheduleCallback,Xa=Re.unstable_cancelCallback,vf=Re.unstable_shouldYield,wf=Re.unstable_requestPaint,ee=Re.unstable_now,Nf=Re.unstable_getCurrentPriorityLevel,$i=Re.unstable_ImmediatePriority,Mc=Re.unstable_UserBlockingPriority,as=Re.unstable_NormalPriority,kf=Re.unstable_LowPriority,Ic=Re.unstable_IdlePriority,Rs=null,Je=null;function jf(e){if(Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(Rs,e,void 0,(e.current.flags&128)===128)}catch{}}var Qe=Math.clz32?Math.clz32:Ef,Sf=Math.log,Cf=Math.LN2;function Ef(e){return e>>>=0,e===0?32:31-(Sf(e)/Cf|0)|0}var _r=64,Pr=4194304;function Bn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ls(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Bn(l):(o&=a,o!==0&&(r=Bn(o)))}else a=n&~s,a!==0?r=Bn(a):o!==0&&(r=Bn(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Qe(t),s=1<<n,r|=e[n],t&=~s;return r}function _f(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Qe(o),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=_f(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Bo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lc(){var e=_r;return _r<<=1,!(_r&4194240)&&(_r=64),e}function Js(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qe(t),e[t]=n}function bf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Qe(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Fi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Qe(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var U=0;function $c(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fc,Bi,Bc,Uc,Vc,Uo=!1,br=[],kt=null,jt=null,St=null,nr=new Map,rr=new Map,xt=[],Rf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ka(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":nr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rr.delete(t.pointerId)}}function Dn(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Nr(t),t!==null&&Bi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Tf(e,t,n,r,s){switch(t){case"focusin":return kt=Dn(kt,e,t,n,r,s),!0;case"dragenter":return jt=Dn(jt,e,t,n,r,s),!0;case"mouseover":return St=Dn(St,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return nr.set(o,Dn(nr.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,rr.set(o,Dn(rr.get(o)||null,e,t,n,r,s)),!0}return!1}function Wc(e){var t=Lt(e.target);if(t!==null){var n=Gt(t);if(n!==null){if(t=n.tag,t===13){if(t=Dc(n),t!==null){e.blockedOn=t,Vc(e.priority,function(){Bc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Io=r,n.target.dispatchEvent(r),Io=null}else return t=Nr(n),t!==null&&Bi(t),e.blockedOn=n,!1;t.shift()}return!0}function Ga(e,t,n){Wr(e)&&n.delete(t)}function Df(){Uo=!1,kt!==null&&Wr(kt)&&(kt=null),jt!==null&&Wr(jt)&&(jt=null),St!==null&&Wr(St)&&(St=null),nr.forEach(Ga),rr.forEach(Ga)}function An(e,t){e.blockedOn===t&&(e.blockedOn=null,Uo||(Uo=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,Df)))}function sr(e){function t(s){return An(s,e)}if(0<br.length){An(br[0],e);for(var n=1;n<br.length;n++){var r=br[n];r.blockedOn===e&&(r.blockedOn=null)}}for(kt!==null&&An(kt,e),jt!==null&&An(jt,e),St!==null&&An(St,e),nr.forEach(t),rr.forEach(t),n=0;n<xt.length;n++)r=xt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<xt.length&&(n=xt[0],n.blockedOn===null);)Wc(n),n.blockedOn===null&&xt.shift()}var mn=ht.ReactCurrentBatchConfig,cs=!0;function Af(e,t,n,r){var s=U,o=mn.transition;mn.transition=null;try{U=1,Ui(e,t,n,r)}finally{U=s,mn.transition=o}}function zf(e,t,n,r){var s=U,o=mn.transition;mn.transition=null;try{U=4,Ui(e,t,n,r)}finally{U=s,mn.transition=o}}function Ui(e,t,n,r){if(cs){var s=Vo(e,t,n,r);if(s===null)co(e,t,r,us,n),Ka(e,r);else if(Tf(s,e,t,n,r))r.stopPropagation();else if(Ka(e,r),t&4&&-1<Rf.indexOf(e)){for(;s!==null;){var o=Nr(s);if(o!==null&&Fc(o),o=Vo(e,t,n,r),o===null&&co(e,t,r,us,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else co(e,t,r,null,n)}}var us=null;function Vo(e,t,n,r){if(us=null,e=Li(r),e=Lt(e),e!==null)if(t=Gt(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Dc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return us=e,null}function Hc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nf()){case $i:return 1;case Mc:return 4;case as:case kf:return 16;case Ic:return 536870912;default:return 16}default:return 16}}var wt=null,Vi=null,Hr=null;function Qc(){if(Hr)return Hr;var e,t=Vi,n=t.length,r,s="value"in wt?wt.value:wt.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[o-r];r++);return Hr=s.slice(e,1<r?1-r:void 0)}function Qr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rr(){return!0}function Ya(){return!1}function De(e){function t(n,r,s,o,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Rr:Ya,this.isPropagationStopped=Ya,this}return Z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rr)},persist:function(){},isPersistent:Rr}),t}var _n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=De(_n),wr=Z({},_n,{view:0,detail:0}),Of=De(wr),eo,to,zn,Ts=Z({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zn&&(zn&&e.type==="mousemove"?(eo=e.screenX-zn.screenX,to=e.screenY-zn.screenY):to=eo=0,zn=e),eo)},movementY:function(e){return"movementY"in e?e.movementY:to}}),Za=De(Ts),Mf=Z({},Ts,{dataTransfer:0}),If=De(Mf),Lf=Z({},wr,{relatedTarget:0}),no=De(Lf),$f=Z({},_n,{animationName:0,elapsedTime:0,pseudoElement:0}),Ff=De($f),Bf=Z({},_n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Uf=De(Bf),Vf=Z({},_n,{data:0}),Ja=De(Vf),Wf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qf[e])?!!t[e]:!1}function Hi(){return qf}var Xf=Z({},wr,{key:function(e){if(e.key){var t=Wf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hi,charCode:function(e){return e.type==="keypress"?Qr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kf=De(Xf),Gf=Z({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=De(Gf),Yf=Z({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hi}),Zf=De(Yf),Jf=Z({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0}),ep=De(Jf),tp=Z({},Ts,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),np=De(tp),rp=[9,13,27,32],Qi=ut&&"CompositionEvent"in window,Qn=null;ut&&"documentMode"in document&&(Qn=document.documentMode);var sp=ut&&"TextEvent"in window&&!Qn,qc=ut&&(!Qi||Qn&&8<Qn&&11>=Qn),tl=String.fromCharCode(32),nl=!1;function Xc(e,t){switch(e){case"keyup":return rp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var tn=!1;function op(e,t){switch(e){case"compositionend":return Kc(t);case"keypress":return t.which!==32?null:(nl=!0,tl);case"textInput":return e=t.data,e===tl&&nl?null:e;default:return null}}function ip(e,t){if(tn)return e==="compositionend"||!Qi&&Xc(e,t)?(e=Qc(),Hr=Vi=wt=null,tn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qc&&t.locale!=="ko"?null:t.data;default:return null}}var ap={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ap[e.type]:t==="textarea"}function Gc(e,t,n,r){_c(r),t=ds(t,"onChange"),0<t.length&&(n=new Wi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,or=null;function lp(e){au(e,0)}function Ds(e){var t=sn(e);if(wc(t))return e}function cp(e,t){if(e==="change")return t}var Yc=!1;if(ut){var ro;if(ut){var so="oninput"in document;if(!so){var sl=document.createElement("div");sl.setAttribute("oninput","return;"),so=typeof sl.oninput=="function"}ro=so}else ro=!1;Yc=ro&&(!document.documentMode||9<document.documentMode)}function ol(){qn&&(qn.detachEvent("onpropertychange",Zc),or=qn=null)}function Zc(e){if(e.propertyName==="value"&&Ds(or)){var t=[];Gc(t,or,e,Li(e)),Tc(lp,t)}}function up(e,t,n){e==="focusin"?(ol(),qn=t,or=n,qn.attachEvent("onpropertychange",Zc)):e==="focusout"&&ol()}function dp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ds(or)}function fp(e,t){if(e==="click")return Ds(t)}function pp(e,t){if(e==="input"||e==="change")return Ds(t)}function hp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xe=typeof Object.is=="function"?Object.is:hp;function ir(e,t){if(Xe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Co.call(t,s)||!Xe(e[s],t[s]))return!1}return!0}function il(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function al(e,t){var n=il(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=il(n)}}function Jc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function eu(){for(var e=window,t=ss();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ss(e.document)}return t}function qi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mp(e){var t=eu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Jc(n.ownerDocument.documentElement,n)){if(r!==null&&qi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=al(n,o);var a=al(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gp=ut&&"documentMode"in document&&11>=document.documentMode,nn=null,Wo=null,Xn=null,Ho=!1;function ll(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ho||nn==null||nn!==ss(r)||(r=nn,"selectionStart"in r&&qi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xn&&ir(Xn,r)||(Xn=r,r=ds(Wo,"onSelect"),0<r.length&&(t=new Wi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=nn)))}function Tr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var rn={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionend:Tr("Transition","TransitionEnd")},oo={},tu={};ut&&(tu=document.createElement("div").style,"AnimationEvent"in window||(delete rn.animationend.animation,delete rn.animationiteration.animation,delete rn.animationstart.animation),"TransitionEvent"in window||delete rn.transitionend.transition);function As(e){if(oo[e])return oo[e];if(!rn[e])return e;var t=rn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tu)return oo[e]=t[n];return e}var nu=As("animationend"),ru=As("animationiteration"),su=As("animationstart"),ou=As("transitionend"),iu=new Map,cl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function At(e,t){iu.set(e,t),Kt(t,[e])}for(var io=0;io<cl.length;io++){var ao=cl[io],yp=ao.toLowerCase(),xp=ao[0].toUpperCase()+ao.slice(1);At(yp,"on"+xp)}At(nu,"onAnimationEnd");At(ru,"onAnimationIteration");At(su,"onAnimationStart");At("dblclick","onDoubleClick");At("focusin","onFocus");At("focusout","onBlur");At(ou,"onTransitionEnd");vn("onMouseEnter",["mouseout","mouseover"]);vn("onMouseLeave",["mouseout","mouseover"]);vn("onPointerEnter",["pointerout","pointerover"]);vn("onPointerLeave",["pointerout","pointerover"]);Kt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kt("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Un="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Un));function ul(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,yf(r,t,void 0,e),e.currentTarget=null}function au(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;ul(s,l,u),o=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;ul(s,l,u),o=c}}}if(is)throw e=Fo,is=!1,Fo=null,e}function Q(e,t){var n=t[Go];n===void 0&&(n=t[Go]=new Set);var r=e+"__bubble";n.has(r)||(lu(t,e,2,!1),n.add(r))}function lo(e,t,n){var r=0;t&&(r|=4),lu(n,e,r,t)}var Dr="_reactListening"+Math.random().toString(36).slice(2);function ar(e){if(!e[Dr]){e[Dr]=!0,mc.forEach(function(n){n!=="selectionchange"&&(vp.has(n)||lo(n,!1,e),lo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dr]||(t[Dr]=!0,lo("selectionchange",!1,t))}}function lu(e,t,n,r){switch(Hc(t)){case 1:var s=Af;break;case 4:s=zf;break;default:s=Ui}n=s.bind(null,t,n,e),s=void 0,!$o||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function co(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Lt(l),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}l=l.parentNode}}r=r.return}Tc(function(){var u=o,h=Li(n),g=[];e:{var m=iu.get(e);if(m!==void 0){var w=Wi,v=e;switch(e){case"keypress":if(Qr(n)===0)break e;case"keydown":case"keyup":w=Kf;break;case"focusin":v="focus",w=no;break;case"focusout":v="blur",w=no;break;case"beforeblur":case"afterblur":w=no;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Za;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=If;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Zf;break;case nu:case ru:case su:w=Ff;break;case ou:w=ep;break;case"scroll":w=Of;break;case"wheel":w=np;break;case"copy":case"cut":case"paste":w=Uf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=el}var N=(t&4)!==0,D=!N&&e==="scroll",f=N?m!==null?m+"Capture":null:m;N=[];for(var d=u,p;d!==null;){p=d;var x=p.stateNode;if(p.tag===5&&x!==null&&(p=x,f!==null&&(x=tr(d,f),x!=null&&N.push(lr(d,x,p)))),D)break;d=d.return}0<N.length&&(m=new w(m,v,null,n,h),g.push({event:m,listeners:N}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",m&&n!==Io&&(v=n.relatedTarget||n.fromElement)&&(Lt(v)||v[dt]))break e;if((w||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,w?(v=n.relatedTarget||n.toElement,w=u,v=v?Lt(v):null,v!==null&&(D=Gt(v),v!==D||v.tag!==5&&v.tag!==6)&&(v=null)):(w=null,v=u),w!==v)){if(N=Za,x="onMouseLeave",f="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(N=el,x="onPointerLeave",f="onPointerEnter",d="pointer"),D=w==null?m:sn(w),p=v==null?m:sn(v),m=new N(x,d+"leave",w,n,h),m.target=D,m.relatedTarget=p,x=null,Lt(h)===u&&(N=new N(f,d+"enter",v,n,h),N.target=p,N.relatedTarget=D,x=N),D=x,w&&v)t:{for(N=w,f=v,d=0,p=N;p;p=Zt(p))d++;for(p=0,x=f;x;x=Zt(x))p++;for(;0<d-p;)N=Zt(N),d--;for(;0<p-d;)f=Zt(f),p--;for(;d--;){if(N===f||f!==null&&N===f.alternate)break t;N=Zt(N),f=Zt(f)}N=null}else N=null;w!==null&&dl(g,m,w,N,!1),v!==null&&D!==null&&dl(g,D,v,N,!0)}}e:{if(m=u?sn(u):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var y=cp;else if(rl(m))if(Yc)y=pp;else{y=dp;var S=up}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(y=fp);if(y&&(y=y(e,u))){Gc(g,y,n,h);break e}S&&S(e,m,u),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&Do(m,"number",m.value)}switch(S=u?sn(u):window,e){case"focusin":(rl(S)||S.contentEditable==="true")&&(nn=S,Wo=u,Xn=null);break;case"focusout":Xn=Wo=nn=null;break;case"mousedown":Ho=!0;break;case"contextmenu":case"mouseup":case"dragend":Ho=!1,ll(g,n,h);break;case"selectionchange":if(gp)break;case"keydown":case"keyup":ll(g,n,h)}var k;if(Qi)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else tn?Xc(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(qc&&n.locale!=="ko"&&(tn||E!=="onCompositionStart"?E==="onCompositionEnd"&&tn&&(k=Qc()):(wt=h,Vi="value"in wt?wt.value:wt.textContent,tn=!0)),S=ds(u,E),0<S.length&&(E=new Ja(E,e,null,n,h),g.push({event:E,listeners:S}),k?E.data=k:(k=Kc(n),k!==null&&(E.data=k)))),(k=sp?op(e,n):ip(e,n))&&(u=ds(u,"onBeforeInput"),0<u.length&&(h=new Ja("onBeforeInput","beforeinput",null,n,h),g.push({event:h,listeners:u}),h.data=k))}au(g,t)})}function lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ds(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=tr(e,n),o!=null&&r.unshift(lr(e,o,s)),o=tr(e,t),o!=null&&r.push(lr(e,o,s))),e=e.return}return r}function Zt(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dl(e,t,n,r,s){for(var o=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=tr(n,o),c!=null&&a.unshift(lr(n,c,l))):s||(c=tr(n,o),c!=null&&a.push(lr(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var wp=/\r\n?/g,Np=/\u0000|\uFFFD/g;function fl(e){return(typeof e=="string"?e:""+e).replace(wp,`
`).replace(Np,"")}function Ar(e,t,n){if(t=fl(t),fl(e)!==t&&n)throw Error(j(425))}function fs(){}var Qo=null,qo=null;function Xo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ko=typeof setTimeout=="function"?setTimeout:void 0,kp=typeof clearTimeout=="function"?clearTimeout:void 0,pl=typeof Promise=="function"?Promise:void 0,jp=typeof queueMicrotask=="function"?queueMicrotask:typeof pl<"u"?function(e){return pl.resolve(null).then(e).catch(Sp)}:Ko;function Sp(e){setTimeout(function(){throw e})}function uo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),sr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);sr(t)}function Ct(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hl(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Pn=Math.random().toString(36).slice(2),Ze="__reactFiber$"+Pn,cr="__reactProps$"+Pn,dt="__reactContainer$"+Pn,Go="__reactEvents$"+Pn,Cp="__reactListeners$"+Pn,Ep="__reactHandles$"+Pn;function Lt(e){var t=e[Ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dt]||n[Ze]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hl(e);e!==null;){if(n=e[Ze])return n;e=hl(e)}return t}e=n,n=e.parentNode}return null}function Nr(e){return e=e[Ze]||e[dt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function zs(e){return e[cr]||null}var Yo=[],on=-1;function zt(e){return{current:e}}function q(e){0>on||(e.current=Yo[on],Yo[on]=null,on--)}function H(e,t){on++,Yo[on]=e.current,e.current=t}var Dt={},ge=zt(Dt),je=zt(!1),Wt=Dt;function wn(e,t){var n=e.type.contextTypes;if(!n)return Dt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Se(e){return e=e.childContextTypes,e!=null}function ps(){q(je),q(ge)}function ml(e,t,n){if(ge.current!==Dt)throw Error(j(168));H(ge,t),H(je,n)}function cu(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(j(108,uf(e)||"Unknown",s));return Z({},n,r)}function hs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dt,Wt=ge.current,H(ge,e),H(je,je.current),!0}function gl(e,t,n){var r=e.stateNode;if(!r)throw Error(j(169));n?(e=cu(e,t,Wt),r.__reactInternalMemoizedMergedChildContext=e,q(je),q(ge),H(ge,e)):q(je),H(je,n)}var ot=null,Os=!1,fo=!1;function uu(e){ot===null?ot=[e]:ot.push(e)}function _p(e){Os=!0,uu(e)}function Ot(){if(!fo&&ot!==null){fo=!0;var e=0,t=U;try{var n=ot;for(U=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ot=null,Os=!1}catch(s){throw ot!==null&&(ot=ot.slice(e+1)),Oc($i,Ot),s}finally{U=t,fo=!1}}return null}var an=[],ln=0,ms=null,gs=0,ze=[],Oe=0,Ht=null,it=1,at="";function Mt(e,t){an[ln++]=gs,an[ln++]=ms,ms=e,gs=t}function du(e,t,n){ze[Oe++]=it,ze[Oe++]=at,ze[Oe++]=Ht,Ht=e;var r=it;e=at;var s=32-Qe(r)-1;r&=~(1<<s),n+=1;var o=32-Qe(t)+s;if(30<o){var a=s-s%5;o=(r&(1<<a)-1).toString(32),r>>=a,s-=a,it=1<<32-Qe(t)+s|n<<s|r,at=o+e}else it=1<<o|n<<s|r,at=e}function Xi(e){e.return!==null&&(Mt(e,1),du(e,1,0))}function Ki(e){for(;e===ms;)ms=an[--ln],an[ln]=null,gs=an[--ln],an[ln]=null;for(;e===Ht;)Ht=ze[--Oe],ze[Oe]=null,at=ze[--Oe],ze[Oe]=null,it=ze[--Oe],ze[Oe]=null}var be=null,_e=null,X=!1,He=null;function fu(e,t){var n=Ie(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function yl(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,be=e,_e=Ct(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,be=e,_e=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ht!==null?{id:it,overflow:at}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ie(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,be=e,_e=null,!0):!1;default:return!1}}function Zo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jo(e){if(X){var t=_e;if(t){var n=t;if(!yl(e,t)){if(Zo(e))throw Error(j(418));t=Ct(n.nextSibling);var r=be;t&&yl(e,t)?fu(r,n):(e.flags=e.flags&-4097|2,X=!1,be=e)}}else{if(Zo(e))throw Error(j(418));e.flags=e.flags&-4097|2,X=!1,be=e}}}function xl(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;be=e}function zr(e){if(e!==be)return!1;if(!X)return xl(e),X=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xo(e.type,e.memoizedProps)),t&&(t=_e)){if(Zo(e))throw pu(),Error(j(418));for(;t;)fu(e,t),t=Ct(t.nextSibling)}if(xl(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_e=Ct(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_e=null}}else _e=be?Ct(e.stateNode.nextSibling):null;return!0}function pu(){for(var e=_e;e;)e=Ct(e.nextSibling)}function Nn(){_e=be=null,X=!1}function Gi(e){He===null?He=[e]:He.push(e)}var Pp=ht.ReactCurrentBatchConfig;function On(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,e))}return e}function Or(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vl(e){var t=e._init;return t(e._payload)}function hu(e){function t(f,d){if(e){var p=f.deletions;p===null?(f.deletions=[d],f.flags|=16):p.push(d)}}function n(f,d){if(!e)return null;for(;d!==null;)t(f,d),d=d.sibling;return null}function r(f,d){for(f=new Map;d!==null;)d.key!==null?f.set(d.key,d):f.set(d.index,d),d=d.sibling;return f}function s(f,d){return f=bt(f,d),f.index=0,f.sibling=null,f}function o(f,d,p){return f.index=p,e?(p=f.alternate,p!==null?(p=p.index,p<d?(f.flags|=2,d):p):(f.flags|=2,d)):(f.flags|=1048576,d)}function a(f){return e&&f.alternate===null&&(f.flags|=2),f}function l(f,d,p,x){return d===null||d.tag!==6?(d=vo(p,f.mode,x),d.return=f,d):(d=s(d,p),d.return=f,d)}function c(f,d,p,x){var y=p.type;return y===en?h(f,d,p.props.children,x,p.key):d!==null&&(d.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===gt&&vl(y)===d.type)?(x=s(d,p.props),x.ref=On(f,d,p),x.return=f,x):(x=Jr(p.type,p.key,p.props,null,f.mode,x),x.ref=On(f,d,p),x.return=f,x)}function u(f,d,p,x){return d===null||d.tag!==4||d.stateNode.containerInfo!==p.containerInfo||d.stateNode.implementation!==p.implementation?(d=wo(p,f.mode,x),d.return=f,d):(d=s(d,p.children||[]),d.return=f,d)}function h(f,d,p,x,y){return d===null||d.tag!==7?(d=Vt(p,f.mode,x,y),d.return=f,d):(d=s(d,p),d.return=f,d)}function g(f,d,p){if(typeof d=="string"&&d!==""||typeof d=="number")return d=vo(""+d,f.mode,p),d.return=f,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Sr:return p=Jr(d.type,d.key,d.props,null,f.mode,p),p.ref=On(f,null,d),p.return=f,p;case Jt:return d=wo(d,f.mode,p),d.return=f,d;case gt:var x=d._init;return g(f,x(d._payload),p)}if(Fn(d)||Rn(d))return d=Vt(d,f.mode,p,null),d.return=f,d;Or(f,d)}return null}function m(f,d,p,x){var y=d!==null?d.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return y!==null?null:l(f,d,""+p,x);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Sr:return p.key===y?c(f,d,p,x):null;case Jt:return p.key===y?u(f,d,p,x):null;case gt:return y=p._init,m(f,d,y(p._payload),x)}if(Fn(p)||Rn(p))return y!==null?null:h(f,d,p,x,null);Or(f,p)}return null}function w(f,d,p,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return f=f.get(p)||null,l(d,f,""+x,y);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Sr:return f=f.get(x.key===null?p:x.key)||null,c(d,f,x,y);case Jt:return f=f.get(x.key===null?p:x.key)||null,u(d,f,x,y);case gt:var S=x._init;return w(f,d,p,S(x._payload),y)}if(Fn(x)||Rn(x))return f=f.get(p)||null,h(d,f,x,y,null);Or(d,x)}return null}function v(f,d,p,x){for(var y=null,S=null,k=d,E=d=0,z=null;k!==null&&E<p.length;E++){k.index>E?(z=k,k=null):z=k.sibling;var R=m(f,k,p[E],x);if(R===null){k===null&&(k=z);break}e&&k&&R.alternate===null&&t(f,k),d=o(R,d,E),S===null?y=R:S.sibling=R,S=R,k=z}if(E===p.length)return n(f,k),X&&Mt(f,E),y;if(k===null){for(;E<p.length;E++)k=g(f,p[E],x),k!==null&&(d=o(k,d,E),S===null?y=k:S.sibling=k,S=k);return X&&Mt(f,E),y}for(k=r(f,k);E<p.length;E++)z=w(k,f,E,p[E],x),z!==null&&(e&&z.alternate!==null&&k.delete(z.key===null?E:z.key),d=o(z,d,E),S===null?y=z:S.sibling=z,S=z);return e&&k.forEach(function(se){return t(f,se)}),X&&Mt(f,E),y}function N(f,d,p,x){var y=Rn(p);if(typeof y!="function")throw Error(j(150));if(p=y.call(p),p==null)throw Error(j(151));for(var S=y=null,k=d,E=d=0,z=null,R=p.next();k!==null&&!R.done;E++,R=p.next()){k.index>E?(z=k,k=null):z=k.sibling;var se=m(f,k,R.value,x);if(se===null){k===null&&(k=z);break}e&&k&&se.alternate===null&&t(f,k),d=o(se,d,E),S===null?y=se:S.sibling=se,S=se,k=z}if(R.done)return n(f,k),X&&Mt(f,E),y;if(k===null){for(;!R.done;E++,R=p.next())R=g(f,R.value,x),R!==null&&(d=o(R,d,E),S===null?y=R:S.sibling=R,S=R);return X&&Mt(f,E),y}for(k=r(f,k);!R.done;E++,R=p.next())R=w(k,f,E,R.value,x),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?E:R.key),d=o(R,d,E),S===null?y=R:S.sibling=R,S=R);return e&&k.forEach(function(ae){return t(f,ae)}),X&&Mt(f,E),y}function D(f,d,p,x){if(typeof p=="object"&&p!==null&&p.type===en&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Sr:e:{for(var y=p.key,S=d;S!==null;){if(S.key===y){if(y=p.type,y===en){if(S.tag===7){n(f,S.sibling),d=s(S,p.props.children),d.return=f,f=d;break e}}else if(S.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===gt&&vl(y)===S.type){n(f,S.sibling),d=s(S,p.props),d.ref=On(f,S,p),d.return=f,f=d;break e}n(f,S);break}else t(f,S);S=S.sibling}p.type===en?(d=Vt(p.props.children,f.mode,x,p.key),d.return=f,f=d):(x=Jr(p.type,p.key,p.props,null,f.mode,x),x.ref=On(f,d,p),x.return=f,f=x)}return a(f);case Jt:e:{for(S=p.key;d!==null;){if(d.key===S)if(d.tag===4&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){n(f,d.sibling),d=s(d,p.children||[]),d.return=f,f=d;break e}else{n(f,d);break}else t(f,d);d=d.sibling}d=wo(p,f.mode,x),d.return=f,f=d}return a(f);case gt:return S=p._init,D(f,d,S(p._payload),x)}if(Fn(p))return v(f,d,p,x);if(Rn(p))return N(f,d,p,x);Or(f,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,d!==null&&d.tag===6?(n(f,d.sibling),d=s(d,p),d.return=f,f=d):(n(f,d),d=vo(p,f.mode,x),d.return=f,f=d),a(f)):n(f,d)}return D}var kn=hu(!0),mu=hu(!1),ys=zt(null),xs=null,cn=null,Yi=null;function Zi(){Yi=cn=xs=null}function Ji(e){var t=ys.current;q(ys),e._currentValue=t}function ei(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function gn(e,t){xs=e,Yi=cn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ke=!0),e.firstContext=null)}function $e(e){var t=e._currentValue;if(Yi!==e)if(e={context:e,memoizedValue:t,next:null},cn===null){if(xs===null)throw Error(j(308));cn=e,xs.dependencies={lanes:0,firstContext:e}}else cn=cn.next=e;return t}var $t=null;function ea(e){$t===null?$t=[e]:$t.push(e)}function gu(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,ea(t)):(n.next=s.next,s.next=n),t.interleaved=n,ft(e,r)}function ft(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var yt=!1;function ta(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ct(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Et(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ft(e,n)}return s=r.interleaved,s===null?(t.next=t,ea(r)):(t.next=s.next,s.next=t),r.interleaved=t,ft(e,n)}function qr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fi(e,n)}}function wl(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vs(e,t,n,r){var s=e.updateQueue;yt=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(o!==null){var g=s.baseState;a=0,h=u=c=null,l=o;do{var m=l.lane,w=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,N=l;switch(m=t,w=n,N.tag){case 1:if(v=N.payload,typeof v=="function"){g=v.call(w,g,m);break e}g=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=N.payload,m=typeof v=="function"?v.call(w,g,m):v,m==null)break e;g=Z({},g,m);break e;case 2:yt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else w={eventTime:w,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=w,c=g):h=h.next=w,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(1);if(h===null&&(c=g),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);qt|=a,e.lanes=a,e.memoizedState=g}}function Nl(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(j(191,s));s.call(r)}}}var kr={},et=zt(kr),ur=zt(kr),dr=zt(kr);function Ft(e){if(e===kr)throw Error(j(174));return e}function na(e,t){switch(H(dr,t),H(ur,e),H(et,kr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zo(t,e)}q(et),H(et,t)}function jn(){q(et),q(ur),q(dr)}function xu(e){Ft(dr.current);var t=Ft(et.current),n=zo(t,e.type);t!==n&&(H(ur,e),H(et,n))}function ra(e){ur.current===e&&(q(et),q(ur))}var G=zt(0);function ws(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var po=[];function sa(){for(var e=0;e<po.length;e++)po[e]._workInProgressVersionPrimary=null;po.length=0}var Xr=ht.ReactCurrentDispatcher,ho=ht.ReactCurrentBatchConfig,Qt=0,Y=null,oe=null,le=null,Ns=!1,Kn=!1,fr=0,bp=0;function pe(){throw Error(j(321))}function oa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xe(e[n],t[n]))return!1;return!0}function ia(e,t,n,r,s,o){if(Qt=o,Y=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xr.current=e===null||e.memoizedState===null?Ap:zp,e=n(r,s),Kn){o=0;do{if(Kn=!1,fr=0,25<=o)throw Error(j(301));o+=1,le=oe=null,t.updateQueue=null,Xr.current=Op,e=n(r,s)}while(Kn)}if(Xr.current=ks,t=oe!==null&&oe.next!==null,Qt=0,le=oe=Y=null,Ns=!1,t)throw Error(j(300));return e}function aa(){var e=fr!==0;return fr=0,e}function Ye(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?Y.memoizedState=le=e:le=le.next=e,le}function Fe(){if(oe===null){var e=Y.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var t=le===null?Y.memoizedState:le.next;if(t!==null)le=t,oe=e;else{if(e===null)throw Error(j(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},le===null?Y.memoizedState=le=e:le=le.next=e}return le}function pr(e,t){return typeof t=="function"?t(e):t}function mo(e){var t=Fe(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=oe,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((Qt&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var g={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=g,a=r):c=c.next=g,Y.lanes|=h,qt|=h}u=u.next}while(u!==null&&u!==o);c===null?a=r:c.next=l,Xe(r,t.memoizedState)||(ke=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Y.lanes|=o,qt|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function go(e){var t=Fe(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);Xe(o,t.memoizedState)||(ke=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function vu(){}function wu(e,t){var n=Y,r=Fe(),s=t(),o=!Xe(r.memoizedState,s);if(o&&(r.memoizedState=s,ke=!0),r=r.queue,la(ju.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||le!==null&&le.memoizedState.tag&1){if(n.flags|=2048,hr(9,ku.bind(null,n,r,s,t),void 0,null),ce===null)throw Error(j(349));Qt&30||Nu(n,t,s)}return s}function Nu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Y.updateQueue,t===null?(t={lastEffect:null,stores:null},Y.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ku(e,t,n,r){t.value=n,t.getSnapshot=r,Su(t)&&Cu(e)}function ju(e,t,n){return n(function(){Su(t)&&Cu(e)})}function Su(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xe(e,n)}catch{return!0}}function Cu(e){var t=ft(e,1);t!==null&&qe(t,e,1,-1)}function kl(e){var t=Ye();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:e},t.queue=e,e=e.dispatch=Dp.bind(null,Y,e),[t.memoizedState,e]}function hr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Y.updateQueue,t===null?(t={lastEffect:null,stores:null},Y.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Eu(){return Fe().memoizedState}function Kr(e,t,n,r){var s=Ye();Y.flags|=e,s.memoizedState=hr(1|t,n,void 0,r===void 0?null:r)}function Ms(e,t,n,r){var s=Fe();r=r===void 0?null:r;var o=void 0;if(oe!==null){var a=oe.memoizedState;if(o=a.destroy,r!==null&&oa(r,a.deps)){s.memoizedState=hr(t,n,o,r);return}}Y.flags|=e,s.memoizedState=hr(1|t,n,o,r)}function jl(e,t){return Kr(8390656,8,e,t)}function la(e,t){return Ms(2048,8,e,t)}function _u(e,t){return Ms(4,2,e,t)}function Pu(e,t){return Ms(4,4,e,t)}function bu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ru(e,t,n){return n=n!=null?n.concat([e]):null,Ms(4,4,bu.bind(null,t,e),n)}function ca(){}function Tu(e,t){var n=Fe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&oa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Du(e,t){var n=Fe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&oa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Au(e,t,n){return Qt&21?(Xe(n,t)||(n=Lc(),Y.lanes|=n,qt|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ke=!0),e.memoizedState=n)}function Rp(e,t){var n=U;U=n!==0&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{U=n,ho.transition=r}}function zu(){return Fe().memoizedState}function Tp(e,t,n){var r=Pt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ou(e))Mu(t,n);else if(n=gu(e,t,n,r),n!==null){var s=xe();qe(n,e,r,s),Iu(n,t,r)}}function Dp(e,t,n){var r=Pt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ou(e))Mu(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(s.hasEagerState=!0,s.eagerState=l,Xe(l,a)){var c=t.interleaved;c===null?(s.next=s,ea(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=gu(e,t,s,r),n!==null&&(s=xe(),qe(n,e,r,s),Iu(n,t,r))}}function Ou(e){var t=e.alternate;return e===Y||t!==null&&t===Y}function Mu(e,t){Kn=Ns=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Iu(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fi(e,n)}}var ks={readContext:$e,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useInsertionEffect:pe,useLayoutEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useMutableSource:pe,useSyncExternalStore:pe,useId:pe,unstable_isNewReconciler:!1},Ap={readContext:$e,useCallback:function(e,t){return Ye().memoizedState=[e,t===void 0?null:t],e},useContext:$e,useEffect:jl,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Kr(4194308,4,bu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Kr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kr(4,2,e,t)},useMemo:function(e,t){var n=Ye();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ye();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Tp.bind(null,Y,e),[r.memoizedState,e]},useRef:function(e){var t=Ye();return e={current:e},t.memoizedState=e},useState:kl,useDebugValue:ca,useDeferredValue:function(e){return Ye().memoizedState=e},useTransition:function(){var e=kl(!1),t=e[0];return e=Rp.bind(null,e[1]),Ye().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Y,s=Ye();if(X){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),ce===null)throw Error(j(349));Qt&30||Nu(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,jl(ju.bind(null,r,o,e),[e]),r.flags|=2048,hr(9,ku.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ye(),t=ce.identifierPrefix;if(X){var n=at,r=it;n=(r&~(1<<32-Qe(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=fr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=bp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zp={readContext:$e,useCallback:Tu,useContext:$e,useEffect:la,useImperativeHandle:Ru,useInsertionEffect:_u,useLayoutEffect:Pu,useMemo:Du,useReducer:mo,useRef:Eu,useState:function(){return mo(pr)},useDebugValue:ca,useDeferredValue:function(e){var t=Fe();return Au(t,oe.memoizedState,e)},useTransition:function(){var e=mo(pr)[0],t=Fe().memoizedState;return[e,t]},useMutableSource:vu,useSyncExternalStore:wu,useId:zu,unstable_isNewReconciler:!1},Op={readContext:$e,useCallback:Tu,useContext:$e,useEffect:la,useImperativeHandle:Ru,useInsertionEffect:_u,useLayoutEffect:Pu,useMemo:Du,useReducer:go,useRef:Eu,useState:function(){return go(pr)},useDebugValue:ca,useDeferredValue:function(e){var t=Fe();return oe===null?t.memoizedState=e:Au(t,oe.memoizedState,e)},useTransition:function(){var e=go(pr)[0],t=Fe().memoizedState;return[e,t]},useMutableSource:vu,useSyncExternalStore:wu,useId:zu,unstable_isNewReconciler:!1};function Ue(e,t){if(e&&e.defaultProps){t=Z({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ti(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Z({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Is={isMounted:function(e){return(e=e._reactInternals)?Gt(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xe(),s=Pt(e),o=ct(r,s);o.payload=t,n!=null&&(o.callback=n),t=Et(e,o,s),t!==null&&(qe(t,e,s,r),qr(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xe(),s=Pt(e),o=ct(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Et(e,o,s),t!==null&&(qe(t,e,s,r),qr(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xe(),r=Pt(e),s=ct(n,r);s.tag=2,t!=null&&(s.callback=t),t=Et(e,s,r),t!==null&&(qe(t,e,r,n),qr(t,e,r))}};function Sl(e,t,n,r,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!ir(n,r)||!ir(s,o):!0}function Lu(e,t,n){var r=!1,s=Dt,o=t.contextType;return typeof o=="object"&&o!==null?o=$e(o):(s=Se(t)?Wt:ge.current,r=t.contextTypes,o=(r=r!=null)?wn(e,s):Dt),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Is,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Cl(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Is.enqueueReplaceState(t,t.state,null)}function ni(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ta(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=$e(o):(o=Se(t)?Wt:ge.current,s.context=wn(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ti(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Is.enqueueReplaceState(s,s.state,null),vs(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Sn(e,t){try{var n="",r=t;do n+=cf(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function yo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ri(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Mp=typeof WeakMap=="function"?WeakMap:Map;function $u(e,t,n){n=ct(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ss||(Ss=!0,pi=r),ri(e,t)},n}function Fu(e,t,n){n=ct(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ri(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ri(e,t),typeof r!="function"&&(_t===null?_t=new Set([this]):_t.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function El(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Mp;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Gp.bind(null,e,t,n),t.then(e,e))}function _l(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pl(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ct(-1,1),t.tag=2,Et(n,t,1))),n.lanes|=1),e)}var Ip=ht.ReactCurrentOwner,ke=!1;function ye(e,t,n,r){t.child=e===null?mu(t,null,n,r):kn(t,e.child,n,r)}function bl(e,t,n,r,s){n=n.render;var o=t.ref;return gn(t,s),r=ia(e,t,n,r,o,s),n=aa(),e!==null&&!ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,pt(e,t,s)):(X&&n&&Xi(t),t.flags|=1,ye(e,t,r,s),t.child)}function Rl(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!ya(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Bu(e,t,o,r,s)):(e=Jr(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ir,n(a,r)&&e.ref===t.ref)return pt(e,t,s)}return t.flags|=1,e=bt(o,r),e.ref=t.ref,e.return=t,t.child=e}function Bu(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(ir(o,r)&&e.ref===t.ref)if(ke=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(ke=!0);else return t.lanes=e.lanes,pt(e,t,s)}return si(e,t,n,r,s)}function Uu(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(dn,Ee),Ee|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,H(dn,Ee),Ee|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,H(dn,Ee),Ee|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,H(dn,Ee),Ee|=r;return ye(e,t,s,n),t.child}function Vu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function si(e,t,n,r,s){var o=Se(n)?Wt:ge.current;return o=wn(t,o),gn(t,s),n=ia(e,t,n,r,o,s),r=aa(),e!==null&&!ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,pt(e,t,s)):(X&&r&&Xi(t),t.flags|=1,ye(e,t,n,s),t.child)}function Tl(e,t,n,r,s){if(Se(n)){var o=!0;hs(t)}else o=!1;if(gn(t,s),t.stateNode===null)Gr(e,t),Lu(t,n,r),ni(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=$e(u):(u=Se(n)?Wt:ge.current,u=wn(t,u));var h=n.getDerivedStateFromProps,g=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Cl(t,a,r,u),yt=!1;var m=t.memoizedState;a.state=m,vs(t,r,a,s),c=t.memoizedState,l!==r||m!==c||je.current||yt?(typeof h=="function"&&(ti(t,n,h,r),c=t.memoizedState),(l=yt||Sl(t,n,l,r,m,c,u))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,yu(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ue(t.type,l),a.props=u,g=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=$e(c):(c=Se(n)?Wt:ge.current,c=wn(t,c));var w=n.getDerivedStateFromProps;(h=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||m!==c)&&Cl(t,a,r,c),yt=!1,m=t.memoizedState,a.state=m,vs(t,r,a,s);var v=t.memoizedState;l!==g||m!==v||je.current||yt?(typeof w=="function"&&(ti(t,n,w,r),v=t.memoizedState),(u=yt||Sl(t,n,u,r,m,v,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return oi(e,t,n,r,o,s)}function oi(e,t,n,r,s,o){Vu(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&gl(t,n,!1),pt(e,t,o);r=t.stateNode,Ip.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=kn(t,e.child,null,o),t.child=kn(t,null,l,o)):ye(e,t,l,o),t.memoizedState=r.state,s&&gl(t,n,!0),t.child}function Wu(e){var t=e.stateNode;t.pendingContext?ml(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ml(e,t.context,!1),na(e,t.containerInfo)}function Dl(e,t,n,r,s){return Nn(),Gi(s),t.flags|=256,ye(e,t,n,r),t.child}var ii={dehydrated:null,treeContext:null,retryLane:0};function ai(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hu(e,t,n){var r=t.pendingProps,s=G.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),H(G,s&1),e===null)return Jo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Fs(a,r,0,null),e=Vt(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ai(n),t.memoizedState=ii,e):ua(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Lp(e,t,a,r,l,s,n);if(o){o=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=bt(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=bt(l,o):(o=Vt(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?ai(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=ii,r}return o=e.child,e=o.sibling,r=bt(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ua(e,t){return t=Fs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Mr(e,t,n,r){return r!==null&&Gi(r),kn(t,e.child,null,n),e=ua(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lp(e,t,n,r,s,o,a){if(n)return t.flags&256?(t.flags&=-257,r=yo(Error(j(422))),Mr(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Fs({mode:"visible",children:r.children},s,0,null),o=Vt(o,s,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&kn(t,e.child,null,a),t.child.memoizedState=ai(a),t.memoizedState=ii,o);if(!(t.mode&1))return Mr(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(j(419)),r=yo(o,r,void 0),Mr(e,t,a,r)}if(l=(a&e.childLanes)!==0,ke||l){if(r=ce,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,ft(e,s),qe(r,e,s,-1))}return ga(),r=yo(Error(j(421))),Mr(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Yp.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,_e=Ct(s.nextSibling),be=t,X=!0,He=null,e!==null&&(ze[Oe++]=it,ze[Oe++]=at,ze[Oe++]=Ht,it=e.id,at=e.overflow,Ht=t),t=ua(t,r.children),t.flags|=4096,t)}function Al(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ei(e.return,t,n)}function xo(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Qu(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(ye(e,t,r.children,n),r=G.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Al(e,n,t);else if(e.tag===19)Al(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(H(G,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ws(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),xo(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ws(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}xo(t,!0,n,null,o);break;case"together":xo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qt|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=bt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=bt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $p(e,t,n){switch(t.tag){case 3:Wu(t),Nn();break;case 5:xu(t);break;case 1:Se(t.type)&&hs(t);break;case 4:na(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;H(ys,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(H(G,G.current&1),t.flags|=128,null):n&t.child.childLanes?Hu(e,t,n):(H(G,G.current&1),e=pt(e,t,n),e!==null?e.sibling:null);H(G,G.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Qu(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(G,G.current),r)break;return null;case 22:case 23:return t.lanes=0,Uu(e,t,n)}return pt(e,t,n)}var qu,li,Xu,Ku;qu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};li=function(){};Xu=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ft(et.current);var o=null;switch(n){case"input":s=Ro(e,s),r=Ro(e,r),o=[];break;case"select":s=Z({},s,{value:void 0}),r=Z({},r,{value:void 0}),o=[];break;case"textarea":s=Ao(e,s),r=Ao(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fs)}Oo(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jn.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s?.[u],r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Q("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Ku=function(e,t,n,r){n!==r&&(t.flags|=4)};function Mn(e,t){if(!X)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function he(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Fp(e,t,n){var r=t.pendingProps;switch(Ki(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(t),null;case 1:return Se(t.type)&&ps(),he(t),null;case 3:return r=t.stateNode,jn(),q(je),q(ge),sa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,He!==null&&(gi(He),He=null))),li(e,t),he(t),null;case 5:ra(t);var s=Ft(dr.current);if(n=t.type,e!==null&&t.stateNode!=null)Xu(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(j(166));return he(t),null}if(e=Ft(et.current),zr(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ze]=t,r[cr]=o,e=(t.mode&1)!==0,n){case"dialog":Q("cancel",r),Q("close",r);break;case"iframe":case"object":case"embed":Q("load",r);break;case"video":case"audio":for(s=0;s<Un.length;s++)Q(Un[s],r);break;case"source":Q("error",r);break;case"img":case"image":case"link":Q("error",r),Q("load",r);break;case"details":Q("toggle",r);break;case"input":Ua(r,o),Q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Q("invalid",r);break;case"textarea":Wa(r,o),Q("invalid",r)}Oo(n,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ar(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ar(r.textContent,l,e),s=["children",""+l]):Jn.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Q("scroll",r)}switch(n){case"input":Cr(r),Va(r,o,!0);break;case"textarea":Cr(r),Ha(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=fs)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Ze]=t,e[cr]=r,qu(e,t,!1,!1),t.stateNode=e;e:{switch(a=Mo(n,r),n){case"dialog":Q("cancel",e),Q("close",e),s=r;break;case"iframe":case"object":case"embed":Q("load",e),s=r;break;case"video":case"audio":for(s=0;s<Un.length;s++)Q(Un[s],e);s=r;break;case"source":Q("error",e),s=r;break;case"img":case"image":case"link":Q("error",e),Q("load",e),s=r;break;case"details":Q("toggle",e),s=r;break;case"input":Ua(e,r),s=Ro(e,r),Q("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Z({},r,{value:void 0}),Q("invalid",e);break;case"textarea":Wa(e,r),s=Ao(e,r),Q("invalid",e);break;default:s=r}Oo(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Ec(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Sc(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&er(e,c):typeof c=="number"&&er(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Jn.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Q("scroll",e):c!=null&&zi(e,o,c,a))}switch(n){case"input":Cr(e),Va(e,r,!1);break;case"textarea":Cr(e),Ha(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Tt(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?fn(e,!!r.multiple,o,!1):r.defaultValue!=null&&fn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=fs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return he(t),null;case 6:if(e&&t.stateNode!=null)Ku(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(j(166));if(n=Ft(dr.current),Ft(et.current),zr(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ze]=t,(o=r.nodeValue!==n)&&(e=be,e!==null))switch(e.tag){case 3:Ar(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ar(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ze]=t,t.stateNode=r}return he(t),null;case 13:if(q(G),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(X&&_e!==null&&t.mode&1&&!(t.flags&128))pu(),Nn(),t.flags|=98560,o=!1;else if(o=zr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(j(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(j(317));o[Ze]=t}else Nn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;he(t),o=!1}else He!==null&&(gi(He),He=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||G.current&1?ie===0&&(ie=3):ga())),t.updateQueue!==null&&(t.flags|=4),he(t),null);case 4:return jn(),li(e,t),e===null&&ar(t.stateNode.containerInfo),he(t),null;case 10:return Ji(t.type._context),he(t),null;case 17:return Se(t.type)&&ps(),he(t),null;case 19:if(q(G),o=t.memoizedState,o===null)return he(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)Mn(o,!1);else{if(ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ws(e),a!==null){for(t.flags|=128,Mn(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return H(G,G.current&1|2),t.child}e=e.sibling}o.tail!==null&&ee()>Cn&&(t.flags|=128,r=!0,Mn(o,!1),t.lanes=4194304)}else{if(!r)if(e=ws(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Mn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!X)return he(t),null}else 2*ee()-o.renderingStartTime>Cn&&n!==1073741824&&(t.flags|=128,r=!0,Mn(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ee(),t.sibling=null,n=G.current,H(G,r?n&1|2:n&1),t):(he(t),null);case 22:case 23:return ma(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ee&1073741824&&(he(t),t.subtreeFlags&6&&(t.flags|=8192)):he(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function Bp(e,t){switch(Ki(t),t.tag){case 1:return Se(t.type)&&ps(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jn(),q(je),q(ge),sa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ra(t),null;case 13:if(q(G),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));Nn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(G),null;case 4:return jn(),null;case 10:return Ji(t.type._context),null;case 22:case 23:return ma(),null;case 24:return null;default:return null}}var Ir=!1,me=!1,Up=typeof WeakSet=="function"?WeakSet:Set,b=null;function un(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){J(e,t,r)}else n.current=null}function ci(e,t,n){try{n()}catch(r){J(e,t,r)}}var zl=!1;function Vp(e,t){if(Qo=cs,e=eu(),qi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,g=e,m=null;t:for(;;){for(var w;g!==n||s!==0&&g.nodeType!==3||(l=a+s),g!==o||r!==0&&g.nodeType!==3||(c=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(w=g.firstChild)!==null;)m=g,g=w;for(;;){if(g===e)break t;if(m===n&&++u===s&&(l=a),m===o&&++h===r&&(c=a),(w=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=w}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qo={focusedElem:e,selectionRange:n},cs=!1,b=t;b!==null;)if(t=b,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,b=e;else for(;b!==null;){t=b;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var N=v.memoizedProps,D=v.memoizedState,f=t.stateNode,d=f.getSnapshotBeforeUpdate(t.elementType===t.type?N:Ue(t.type,N),D);f.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(x){J(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,b=e;break}b=t.return}return v=zl,zl=!1,v}function Gn(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&ci(t,n,o)}s=s.next}while(s!==r)}}function Ls(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ui(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Gu(e){var t=e.alternate;t!==null&&(e.alternate=null,Gu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ze],delete t[cr],delete t[Go],delete t[Cp],delete t[Ep])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yu(e){return e.tag===5||e.tag===3||e.tag===4}function Ol(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function di(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fs));else if(r!==4&&(e=e.child,e!==null))for(di(e,t,n),e=e.sibling;e!==null;)di(e,t,n),e=e.sibling}function fi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fi(e,t,n),e=e.sibling;e!==null;)fi(e,t,n),e=e.sibling}var ue=null,Ve=!1;function mt(e,t,n){for(n=n.child;n!==null;)Zu(e,t,n),n=n.sibling}function Zu(e,t,n){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(Rs,n)}catch{}switch(n.tag){case 5:me||un(n,t);case 6:var r=ue,s=Ve;ue=null,mt(e,t,n),ue=r,Ve=s,ue!==null&&(Ve?(e=ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ue.removeChild(n.stateNode));break;case 18:ue!==null&&(Ve?(e=ue,n=n.stateNode,e.nodeType===8?uo(e.parentNode,n):e.nodeType===1&&uo(e,n),sr(e)):uo(ue,n.stateNode));break;case 4:r=ue,s=Ve,ue=n.stateNode.containerInfo,Ve=!0,mt(e,t,n),ue=r,Ve=s;break;case 0:case 11:case 14:case 15:if(!me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&ci(n,t,a),s=s.next}while(s!==r)}mt(e,t,n);break;case 1:if(!me&&(un(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){J(n,t,l)}mt(e,t,n);break;case 21:mt(e,t,n);break;case 22:n.mode&1?(me=(r=me)||n.memoizedState!==null,mt(e,t,n),me=r):mt(e,t,n);break;default:mt(e,t,n)}}function Ml(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Up),t.forEach(function(r){var s=Zp.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Be(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:ue=l.stateNode,Ve=!1;break e;case 3:ue=l.stateNode.containerInfo,Ve=!0;break e;case 4:ue=l.stateNode.containerInfo,Ve=!0;break e}l=l.return}if(ue===null)throw Error(j(160));Zu(o,a,s),ue=null,Ve=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){J(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ju(t,e),t=t.sibling}function Ju(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Be(t,e),Ge(e),r&4){try{Gn(3,e,e.return),Ls(3,e)}catch(N){J(e,e.return,N)}try{Gn(5,e,e.return)}catch(N){J(e,e.return,N)}}break;case 1:Be(t,e),Ge(e),r&512&&n!==null&&un(n,n.return);break;case 5:if(Be(t,e),Ge(e),r&512&&n!==null&&un(n,n.return),e.flags&32){var s=e.stateNode;try{er(s,"")}catch(N){J(e,e.return,N)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Nc(s,o),Mo(l,a);var u=Mo(l,o);for(a=0;a<c.length;a+=2){var h=c[a],g=c[a+1];h==="style"?Ec(s,g):h==="dangerouslySetInnerHTML"?Sc(s,g):h==="children"?er(s,g):zi(s,h,g,u)}switch(l){case"input":To(s,o);break;case"textarea":kc(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var w=o.value;w!=null?fn(s,!!o.multiple,w,!1):m!==!!o.multiple&&(o.defaultValue!=null?fn(s,!!o.multiple,o.defaultValue,!0):fn(s,!!o.multiple,o.multiple?[]:"",!1))}s[cr]=o}catch(N){J(e,e.return,N)}}break;case 6:if(Be(t,e),Ge(e),r&4){if(e.stateNode===null)throw Error(j(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(N){J(e,e.return,N)}}break;case 3:if(Be(t,e),Ge(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sr(t.containerInfo)}catch(N){J(e,e.return,N)}break;case 4:Be(t,e),Ge(e);break;case 13:Be(t,e),Ge(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(pa=ee())),r&4&&Ml(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(me=(u=me)||h,Be(t,e),me=u):Be(t,e),Ge(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(b=e,h=e.child;h!==null;){for(g=b=h;b!==null;){switch(m=b,w=m.child,m.tag){case 0:case 11:case 14:case 15:Gn(4,m,m.return);break;case 1:un(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(N){J(r,n,N)}}break;case 5:un(m,m.return);break;case 22:if(m.memoizedState!==null){Ll(g);continue}}w!==null?(w.return=m,b=w):Ll(g)}h=h.sibling}e:for(h=null,g=e;;){if(g.tag===5){if(h===null){h=g;try{s=g.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=g.stateNode,c=g.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Cc("display",a))}catch(N){J(e,e.return,N)}}}else if(g.tag===6){if(h===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(N){J(e,e.return,N)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;h===g&&(h=null),g=g.return}h===g&&(h=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Be(t,e),Ge(e),r&4&&Ml(e);break;case 21:break;default:Be(t,e),Ge(e)}}function Ge(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Yu(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(er(s,""),r.flags&=-33);var o=Ol(e);fi(e,o,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Ol(e);di(e,l,a);break;default:throw Error(j(161))}}catch(c){J(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wp(e,t,n){b=e,ed(e)}function ed(e,t,n){for(var r=(e.mode&1)!==0;b!==null;){var s=b,o=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Ir;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||me;l=Ir;var u=me;if(Ir=a,(me=c)&&!u)for(b=s;b!==null;)a=b,c=a.child,a.tag===22&&a.memoizedState!==null?$l(s):c!==null?(c.return=a,b=c):$l(s);for(;o!==null;)b=o,ed(o),o=o.sibling;b=s,Ir=l,me=u}Il(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,b=o):Il(e)}}function Il(e){for(;b!==null;){var t=b;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:me||Ls(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!me)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ue(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Nl(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Nl(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var g=h.dehydrated;g!==null&&sr(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}me||t.flags&512&&ui(t)}catch(m){J(t,t.return,m)}}if(t===e){b=null;break}if(n=t.sibling,n!==null){n.return=t.return,b=n;break}b=t.return}}function Ll(e){for(;b!==null;){var t=b;if(t===e){b=null;break}var n=t.sibling;if(n!==null){n.return=t.return,b=n;break}b=t.return}}function $l(e){for(;b!==null;){var t=b;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ls(4,t)}catch(c){J(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){J(t,s,c)}}var o=t.return;try{ui(t)}catch(c){J(t,o,c)}break;case 5:var a=t.return;try{ui(t)}catch(c){J(t,a,c)}}}catch(c){J(t,t.return,c)}if(t===e){b=null;break}var l=t.sibling;if(l!==null){l.return=t.return,b=l;break}b=t.return}}var Hp=Math.ceil,js=ht.ReactCurrentDispatcher,da=ht.ReactCurrentOwner,Le=ht.ReactCurrentBatchConfig,B=0,ce=null,ne=null,de=0,Ee=0,dn=zt(0),ie=0,mr=null,qt=0,$s=0,fa=0,Yn=null,Ne=null,pa=0,Cn=1/0,st=null,Ss=!1,pi=null,_t=null,Lr=!1,Nt=null,Cs=0,Zn=0,hi=null,Yr=-1,Zr=0;function xe(){return B&6?ee():Yr!==-1?Yr:Yr=ee()}function Pt(e){return e.mode&1?B&2&&de!==0?de&-de:Pp.transition!==null?(Zr===0&&(Zr=Lc()),Zr):(e=U,e!==0||(e=window.event,e=e===void 0?16:Hc(e.type)),e):1}function qe(e,t,n,r){if(50<Zn)throw Zn=0,hi=null,Error(j(185));vr(e,n,r),(!(B&2)||e!==ce)&&(e===ce&&(!(B&2)&&($s|=n),ie===4&&vt(e,de)),Ce(e,r),n===1&&B===0&&!(t.mode&1)&&(Cn=ee()+500,Os&&Ot()))}function Ce(e,t){var n=e.callbackNode;Pf(e,t);var r=ls(e,e===ce?de:0);if(r===0)n!==null&&Xa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Xa(n),t===1)e.tag===0?_p(Fl.bind(null,e)):uu(Fl.bind(null,e)),jp(function(){!(B&6)&&Ot()}),n=null;else{switch($c(r)){case 1:n=$i;break;case 4:n=Mc;break;case 16:n=as;break;case 536870912:n=Ic;break;default:n=as}n=ld(n,td.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function td(e,t){if(Yr=-1,Zr=0,B&6)throw Error(j(327));var n=e.callbackNode;if(yn()&&e.callbackNode!==n)return null;var r=ls(e,e===ce?de:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Es(e,r);else{t=r;var s=B;B|=2;var o=rd();(ce!==e||de!==t)&&(st=null,Cn=ee()+500,Ut(e,t));do try{Xp();break}catch(l){nd(e,l)}while(1);Zi(),js.current=o,B=s,ne!==null?t=0:(ce=null,de=0,t=ie)}if(t!==0){if(t===2&&(s=Bo(e),s!==0&&(r=s,t=mi(e,s))),t===1)throw n=mr,Ut(e,0),vt(e,r),Ce(e,ee()),n;if(t===6)vt(e,r);else{if(s=e.current.alternate,!(r&30)&&!Qp(s)&&(t=Es(e,r),t===2&&(o=Bo(e),o!==0&&(r=o,t=mi(e,o))),t===1))throw n=mr,Ut(e,0),vt(e,r),Ce(e,ee()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(j(345));case 2:It(e,Ne,st);break;case 3:if(vt(e,r),(r&130023424)===r&&(t=pa+500-ee(),10<t)){if(ls(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){xe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ko(It.bind(null,e,Ne,st),t);break}It(e,Ne,st);break;case 4:if(vt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-Qe(r);o=1<<a,a=t[a],a>s&&(s=a),r&=~o}if(r=s,r=ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hp(r/1960))-r,10<r){e.timeoutHandle=Ko(It.bind(null,e,Ne,st),r);break}It(e,Ne,st);break;case 5:It(e,Ne,st);break;default:throw Error(j(329))}}}return Ce(e,ee()),e.callbackNode===n?td.bind(null,e):null}function mi(e,t){var n=Yn;return e.current.memoizedState.isDehydrated&&(Ut(e,t).flags|=256),e=Es(e,t),e!==2&&(t=Ne,Ne=n,t!==null&&gi(t)),e}function gi(e){Ne===null?Ne=e:Ne.push.apply(Ne,e)}function Qp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Xe(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vt(e,t){for(t&=~fa,t&=~$s,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Qe(t),r=1<<n;e[n]=-1,t&=~r}}function Fl(e){if(B&6)throw Error(j(327));yn();var t=ls(e,0);if(!(t&1))return Ce(e,ee()),null;var n=Es(e,t);if(e.tag!==0&&n===2){var r=Bo(e);r!==0&&(t=r,n=mi(e,r))}if(n===1)throw n=mr,Ut(e,0),vt(e,t),Ce(e,ee()),n;if(n===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,It(e,Ne,st),Ce(e,ee()),null}function ha(e,t){var n=B;B|=1;try{return e(t)}finally{B=n,B===0&&(Cn=ee()+500,Os&&Ot())}}function Xt(e){Nt!==null&&Nt.tag===0&&!(B&6)&&yn();var t=B;B|=1;var n=Le.transition,r=U;try{if(Le.transition=null,U=1,e)return e()}finally{U=r,Le.transition=n,B=t,!(B&6)&&Ot()}}function ma(){Ee=dn.current,q(dn)}function Ut(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kp(n)),ne!==null)for(n=ne.return;n!==null;){var r=n;switch(Ki(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ps();break;case 3:jn(),q(je),q(ge),sa();break;case 5:ra(r);break;case 4:jn();break;case 13:q(G);break;case 19:q(G);break;case 10:Ji(r.type._context);break;case 22:case 23:ma()}n=n.return}if(ce=e,ne=e=bt(e.current,null),de=Ee=t,ie=0,mr=null,fa=$s=qt=0,Ne=Yn=null,$t!==null){for(t=0;t<$t.length;t++)if(n=$t[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=s,r.next=a}n.pending=r}$t=null}return e}function nd(e,t){do{var n=ne;try{if(Zi(),Xr.current=ks,Ns){for(var r=Y.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ns=!1}if(Qt=0,le=oe=Y=null,Kn=!1,fr=0,da.current=null,n===null||n.return===null){ie=1,mr=t,ne=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=de,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,g=h.tag;if(!(h.mode&1)&&(g===0||g===11||g===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=_l(a);if(w!==null){w.flags&=-257,Pl(w,a,l,o,t),w.mode&1&&El(o,u,t),t=w,c=u;var v=t.updateQueue;if(v===null){var N=new Set;N.add(c),t.updateQueue=N}else v.add(c);break e}else{if(!(t&1)){El(o,u,t),ga();break e}c=Error(j(426))}}else if(X&&l.mode&1){var D=_l(a);if(D!==null){!(D.flags&65536)&&(D.flags|=256),Pl(D,a,l,o,t),Gi(Sn(c,l));break e}}o=c=Sn(c,l),ie!==4&&(ie=2),Yn===null?Yn=[o]:Yn.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var f=$u(o,c,t);wl(o,f);break e;case 1:l=c;var d=o.type,p=o.stateNode;if(!(o.flags&128)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(_t===null||!_t.has(p)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=Fu(o,l,t);wl(o,x);break e}}o=o.return}while(o!==null)}od(n)}catch(y){t=y,ne===n&&n!==null&&(ne=n=n.return);continue}break}while(1)}function rd(){var e=js.current;return js.current=ks,e===null?ks:e}function ga(){(ie===0||ie===3||ie===2)&&(ie=4),ce===null||!(qt&268435455)&&!($s&268435455)||vt(ce,de)}function Es(e,t){var n=B;B|=2;var r=rd();(ce!==e||de!==t)&&(st=null,Ut(e,t));do try{qp();break}catch(s){nd(e,s)}while(1);if(Zi(),B=n,js.current=r,ne!==null)throw Error(j(261));return ce=null,de=0,ie}function qp(){for(;ne!==null;)sd(ne)}function Xp(){for(;ne!==null&&!vf();)sd(ne)}function sd(e){var t=ad(e.alternate,e,Ee);e.memoizedProps=e.pendingProps,t===null?od(e):ne=t,da.current=null}function od(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Bp(n,t),n!==null){n.flags&=32767,ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ie=6,ne=null;return}}else if(n=Fp(n,t,Ee),n!==null){ne=n;return}if(t=t.sibling,t!==null){ne=t;return}ne=t=e}while(t!==null);ie===0&&(ie=5)}function It(e,t,n){var r=U,s=Le.transition;try{Le.transition=null,U=1,Kp(e,t,n,r)}finally{Le.transition=s,U=r}return null}function Kp(e,t,n,r){do yn();while(Nt!==null);if(B&6)throw Error(j(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(bf(e,o),e===ce&&(ne=ce=null,de=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lr||(Lr=!0,ld(as,function(){return yn(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Le.transition,Le.transition=null;var a=U;U=1;var l=B;B|=4,da.current=null,Vp(e,n),Ju(n,e),mp(qo),cs=!!Qo,qo=Qo=null,e.current=n,Wp(n),wf(),B=l,U=a,Le.transition=o}else e.current=n;if(Lr&&(Lr=!1,Nt=e,Cs=s),o=e.pendingLanes,o===0&&(_t=null),jf(n.stateNode),Ce(e,ee()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ss)throw Ss=!1,e=pi,pi=null,e;return Cs&1&&e.tag!==0&&yn(),o=e.pendingLanes,o&1?e===hi?Zn++:(Zn=0,hi=e):Zn=0,Ot(),null}function yn(){if(Nt!==null){var e=$c(Cs),t=Le.transition,n=U;try{if(Le.transition=null,U=16>e?16:e,Nt===null)var r=!1;else{if(e=Nt,Nt=null,Cs=0,B&6)throw Error(j(331));var s=B;for(B|=4,b=e.current;b!==null;){var o=b,a=o.child;if(b.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(b=u;b!==null;){var h=b;switch(h.tag){case 0:case 11:case 15:Gn(8,h,o)}var g=h.child;if(g!==null)g.return=h,b=g;else for(;b!==null;){h=b;var m=h.sibling,w=h.return;if(Gu(h),h===u){b=null;break}if(m!==null){m.return=w,b=m;break}b=w}}}var v=o.alternate;if(v!==null){var N=v.child;if(N!==null){v.child=null;do{var D=N.sibling;N.sibling=null,N=D}while(N!==null)}}b=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,b=a;else e:for(;b!==null;){if(o=b,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Gn(9,o,o.return)}var f=o.sibling;if(f!==null){f.return=o.return,b=f;break e}b=o.return}}var d=e.current;for(b=d;b!==null;){a=b;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,b=p;else e:for(a=d;b!==null;){if(l=b,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ls(9,l)}}catch(y){J(l,l.return,y)}if(l===a){b=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,b=x;break e}b=l.return}}if(B=s,Ot(),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(Rs,e)}catch{}r=!0}return r}finally{U=n,Le.transition=t}}return!1}function Bl(e,t,n){t=Sn(n,t),t=$u(e,t,1),e=Et(e,t,1),t=xe(),e!==null&&(vr(e,1,t),Ce(e,t))}function J(e,t,n){if(e.tag===3)Bl(e,e,n);else for(;t!==null;){if(t.tag===3){Bl(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_t===null||!_t.has(r))){e=Sn(n,e),e=Fu(t,e,1),t=Et(t,e,1),e=xe(),t!==null&&(vr(t,1,e),Ce(t,e));break}}t=t.return}}function Gp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=xe(),e.pingedLanes|=e.suspendedLanes&n,ce===e&&(de&n)===n&&(ie===4||ie===3&&(de&130023424)===de&&500>ee()-pa?Ut(e,0):fa|=n),Ce(e,t)}function id(e,t){t===0&&(e.mode&1?(t=Pr,Pr<<=1,!(Pr&130023424)&&(Pr=4194304)):t=1);var n=xe();e=ft(e,t),e!==null&&(vr(e,t,n),Ce(e,n))}function Yp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),id(e,n)}function Zp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(t),id(e,n)}var ad;ad=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||je.current)ke=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ke=!1,$p(e,t,n);ke=!!(e.flags&131072)}else ke=!1,X&&t.flags&1048576&&du(t,gs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gr(e,t),e=t.pendingProps;var s=wn(t,ge.current);gn(t,n),s=ia(null,t,r,e,s,n);var o=aa();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Se(r)?(o=!0,hs(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ta(t),s.updater=Is,t.stateNode=s,s._reactInternals=t,ni(t,r,e,n),t=oi(null,t,r,!0,o,n)):(t.tag=0,X&&o&&Xi(t),ye(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gr(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=eh(r),e=Ue(r,e),s){case 0:t=si(null,t,r,e,n);break e;case 1:t=Tl(null,t,r,e,n);break e;case 11:t=bl(null,t,r,e,n);break e;case 14:t=Rl(null,t,r,Ue(r.type,e),n);break e}throw Error(j(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ue(r,s),si(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ue(r,s),Tl(e,t,r,s,n);case 3:e:{if(Wu(t),e===null)throw Error(j(387));r=t.pendingProps,o=t.memoizedState,s=o.element,yu(e,t),vs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Sn(Error(j(423)),t),t=Dl(e,t,r,n,s);break e}else if(r!==s){s=Sn(Error(j(424)),t),t=Dl(e,t,r,n,s);break e}else for(_e=Ct(t.stateNode.containerInfo.firstChild),be=t,X=!0,He=null,n=mu(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nn(),r===s){t=pt(e,t,n);break e}ye(e,t,r,n)}t=t.child}return t;case 5:return xu(t),e===null&&Jo(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,Xo(r,s)?a=null:o!==null&&Xo(r,o)&&(t.flags|=32),Vu(e,t),ye(e,t,a,n),t.child;case 6:return e===null&&Jo(t),null;case 13:return Hu(e,t,n);case 4:return na(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=kn(t,null,r,n):ye(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ue(r,s),bl(e,t,r,s,n);case 7:return ye(e,t,t.pendingProps,n),t.child;case 8:return ye(e,t,t.pendingProps.children,n),t.child;case 12:return ye(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,H(ys,r._currentValue),r._currentValue=a,o!==null)if(Xe(o.value,a)){if(o.children===s.children&&!je.current){t=pt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=ct(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),ei(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(j(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),ei(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}ye(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,gn(t,n),s=$e(s),r=r(s),t.flags|=1,ye(e,t,r,n),t.child;case 14:return r=t.type,s=Ue(r,t.pendingProps),s=Ue(r.type,s),Rl(e,t,r,s,n);case 15:return Bu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ue(r,s),Gr(e,t),t.tag=1,Se(r)?(e=!0,hs(t)):e=!1,gn(t,n),Lu(t,r,s),ni(t,r,s,n),oi(null,t,r,!0,e,n);case 19:return Qu(e,t,n);case 22:return Uu(e,t,n)}throw Error(j(156,t.tag))};function ld(e,t){return Oc(e,t)}function Jp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ie(e,t,n,r){return new Jp(e,t,n,r)}function ya(e){return e=e.prototype,!(!e||!e.isReactComponent)}function eh(e){if(typeof e=="function")return ya(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mi)return 11;if(e===Ii)return 14}return 2}function bt(e,t){var n=e.alternate;return n===null?(n=Ie(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jr(e,t,n,r,s,o){var a=2;if(r=e,typeof e=="function")ya(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case en:return Vt(n.children,s,o,t);case Oi:a=8,s|=8;break;case Eo:return e=Ie(12,n,t,s|2),e.elementType=Eo,e.lanes=o,e;case _o:return e=Ie(13,n,t,s),e.elementType=_o,e.lanes=o,e;case Po:return e=Ie(19,n,t,s),e.elementType=Po,e.lanes=o,e;case xc:return Fs(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gc:a=10;break e;case yc:a=9;break e;case Mi:a=11;break e;case Ii:a=14;break e;case gt:a=16,r=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=Ie(a,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Vt(e,t,n,r){return e=Ie(7,e,r,t),e.lanes=n,e}function Fs(e,t,n,r){return e=Ie(22,e,r,t),e.elementType=xc,e.lanes=n,e.stateNode={isHidden:!1},e}function vo(e,t,n){return e=Ie(6,e,null,t),e.lanes=n,e}function wo(e,t,n){return t=Ie(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function th(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Js(0),this.expirationTimes=Js(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Js(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function xa(e,t,n,r,s,o,a,l,c){return e=new th(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ie(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ta(o),e}function nh(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jt,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cd(e){if(!e)return Dt;e=e._reactInternals;e:{if(Gt(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Se(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var n=e.type;if(Se(n))return cu(e,n,t)}return t}function ud(e,t,n,r,s,o,a,l,c){return e=xa(n,r,!0,e,s,o,a,l,c),e.context=cd(null),n=e.current,r=xe(),s=Pt(n),o=ct(r,s),o.callback=t??null,Et(n,o,s),e.current.lanes=s,vr(e,s,r),Ce(e,r),e}function Bs(e,t,n,r){var s=t.current,o=xe(),a=Pt(s);return n=cd(n),t.context===null?t.context=n:t.pendingContext=n,t=ct(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Et(s,t,a),e!==null&&(qe(e,s,a,o),qr(e,s,a)),a}function _s(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ul(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function va(e,t){Ul(e,t),(e=e.alternate)&&Ul(e,t)}function rh(){return null}var dd=typeof reportError=="function"?reportError:function(e){console.error(e)};function wa(e){this._internalRoot=e}Us.prototype.render=wa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));Bs(e,t,null,null)};Us.prototype.unmount=wa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xt(function(){Bs(null,e,null,null)}),t[dt]=null}};function Us(e){this._internalRoot=e}Us.prototype.unstable_scheduleHydration=function(e){if(e){var t=Uc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xt.length&&t!==0&&t<xt[n].priority;n++);xt.splice(n,0,e),n===0&&Wc(e)}};function Na(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vl(){}function sh(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=_s(a);o.call(u)}}var a=ud(t,r,e,0,null,!1,!1,"",Vl);return e._reactRootContainer=a,e[dt]=a.current,ar(e.nodeType===8?e.parentNode:e),Xt(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=_s(c);l.call(u)}}var c=xa(e,0,!1,null,null,!1,!1,"",Vl);return e._reactRootContainer=c,e[dt]=c.current,ar(e.nodeType===8?e.parentNode:e),Xt(function(){Bs(t,c,n,r)}),c}function Ws(e,t,n,r,s){var o=n._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=_s(a);l.call(c)}}Bs(t,a,e,s)}else a=sh(n,t,e,s,r);return _s(a)}Fc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Bn(t.pendingLanes);n!==0&&(Fi(t,n|1),Ce(t,ee()),!(B&6)&&(Cn=ee()+500,Ot()))}break;case 13:Xt(function(){var r=ft(e,1);if(r!==null){var s=xe();qe(r,e,1,s)}}),va(e,1)}};Bi=function(e){if(e.tag===13){var t=ft(e,134217728);if(t!==null){var n=xe();qe(t,e,134217728,n)}va(e,134217728)}};Bc=function(e){if(e.tag===13){var t=Pt(e),n=ft(e,t);if(n!==null){var r=xe();qe(n,e,t,r)}va(e,t)}};Uc=function(){return U};Vc=function(e,t){var n=U;try{return U=e,t()}finally{U=n}};Lo=function(e,t,n){switch(t){case"input":if(To(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=zs(r);if(!s)throw Error(j(90));wc(r),To(r,s)}}}break;case"textarea":kc(e,n);break;case"select":t=n.value,t!=null&&fn(e,!!n.multiple,t,!1)}};bc=ha;Rc=Xt;var oh={usingClientEntryPoint:!1,Events:[Nr,sn,zs,_c,Pc,ha]},In={findFiberByHostInstance:Lt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ih={bundleType:In.bundleType,version:In.version,rendererPackageName:In.rendererPackageName,rendererConfig:In.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ac(e),e===null?null:e.stateNode},findFiberByHostInstance:In.findFiberByHostInstance||rh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $r=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$r.isDisabled&&$r.supportsFiber)try{Rs=$r.inject(ih),Je=$r}catch{}}Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oh;Te.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Na(t))throw Error(j(200));return nh(e,t,null,n)};Te.createRoot=function(e,t){if(!Na(e))throw Error(j(299));var n=!1,r="",s=dd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=xa(e,1,!1,null,null,n,!1,r,s),e[dt]=t.current,ar(e.nodeType===8?e.parentNode:e),new wa(t)};Te.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=Ac(t),e=e===null?null:e.stateNode,e};Te.flushSync=function(e){return Xt(e)};Te.hydrate=function(e,t,n){if(!Vs(t))throw Error(j(200));return Ws(null,e,t,!0,n)};Te.hydrateRoot=function(e,t,n){if(!Na(e))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",a=dd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=ud(t,null,e,1,n??null,s,!1,o,a),e[dt]=t.current,ar(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Us(t)};Te.render=function(e,t,n){if(!Vs(t))throw Error(j(200));return Ws(null,e,t,!1,n)};Te.unmountComponentAtNode=function(e){if(!Vs(e))throw Error(j(40));return e._reactRootContainer?(Xt(function(){Ws(null,null,e,!1,function(){e._reactRootContainer=null,e[dt]=null})}),!0):!1};Te.unstable_batchedUpdates=ha;Te.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Vs(n))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return Ws(e,t,n,!1,r)};Te.version="18.3.1-next-f1338f8080-20240426";function fd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fd)}catch(e){console.error(e)}}fd(),fc.exports=Te;var pd=fc.exports,hd,Wl=pd;hd=Wl.createRoot,Wl.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ah={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),$=(e,t)=>{const n=_.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:l="",children:c,...u},h)=>_.createElement("svg",{ref:h,...ah,width:s,height:s,stroke:r,strokeWidth:a?Number(o)*24/Number(s):o,className:["lucide",`lucide-${lh(e)}`,l].join(" "),...u},[...t.map(([g,m])=>_.createElement(g,m)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=$("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=$("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=$("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=$("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=$("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=$("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=$("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=$("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=$("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=$("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=$("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=$("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=$("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=$("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=$("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=$("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=$("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=$("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=$("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=$("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=$("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=$("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=$("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=$("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=$("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=$("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=$("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=$("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=$("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=$("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=$("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=$("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=$("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=$("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=$("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=$("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ch=[{id:"dashboard",label:"Dashboard",icon:Ps},{id:"menu",label:"Cardápio",icon:wi},{id:"categories",label:"Categorias",icon:Pe},{id:"products",label:"Produtos",icon:Pe},{id:"promotions",label:"Promoções",icon:vi},{id:"orders",label:"Pedidos",icon:dh},{id:"bot",label:"Bot WhatsApp",icon:ja},{id:"ai-tester",label:"Testador IA",icon:yi},{id:"settings",label:"Configurações",icon:vh}];function Eh({activeTab:e,onTabChange:t}){return i.jsxs("div",{className:"w-64 bg-white shadow-lg h-screen fixed left-0 top-0 z-40",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:i.jsxs("h1",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[i.jsx(ja,{className:"text-green-600",size:24}),"OrderBot Pro"]})}),i.jsx("nav",{className:"mt-6",children:Ch.map(n=>{const r=n.icon,s=e===n.id;return i.jsxs("button",{onClick:()=>t(n.id),className:`w-full flex items-center gap-3 px-6 py-3 text-left transition-colors ${s?"bg-green-50 text-green-700 border-r-2 border-green-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-800"}`,children:[i.jsx(r,{size:20}),i.jsx("span",{className:"font-medium",children:n.label})]},n.id)})})]})}const nt=Object.create(null);nt.open="0";nt.close="1";nt.ping="2";nt.pong="3";nt.message="4";nt.upgrade="5";nt.noop="6";const es=Object.create(null);Object.keys(nt).forEach(e=>{es[nt[e]]=e});const Ni={type:"error",data:"parser error"},yd=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",xd=typeof ArrayBuffer=="function",vd=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,_a=({type:e,data:t},n,r)=>yd&&t instanceof Blob?n?r(t):ql(t,r):xd&&(t instanceof ArrayBuffer||vd(t))?n?r(t):ql(new Blob([t]),r):r(nt[e]+(t||"")),ql=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function Xl(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let ko;function _h(e,t){if(yd&&e.data instanceof Blob)return e.data.arrayBuffer().then(Xl).then(t);if(xd&&(e.data instanceof ArrayBuffer||vd(e.data)))return t(Xl(e.data));_a(e,!1,n=>{ko||(ko=new TextEncoder),t(ko.encode(n))})}const Kl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Kl.length;e++)Vn[Kl.charCodeAt(e)]=e;const Ph=e=>{let t=e.length*.75,n=e.length,r,s=0,o,a,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),h=new Uint8Array(u);for(r=0;r<n;r+=4)o=Vn[e.charCodeAt(r)],a=Vn[e.charCodeAt(r+1)],l=Vn[e.charCodeAt(r+2)],c=Vn[e.charCodeAt(r+3)],h[s++]=o<<2|a>>4,h[s++]=(a&15)<<4|l>>2,h[s++]=(l&3)<<6|c&63;return u},bh=typeof ArrayBuffer=="function",Pa=(e,t)=>{if(typeof e!="string")return{type:"message",data:wd(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Rh(e.substring(1),t)}:es[n]?e.length>1?{type:es[n],data:e.substring(1)}:{type:es[n]}:Ni},Rh=(e,t)=>{if(bh){const n=Ph(e);return wd(n,t)}else return{base64:!0,data:e}},wd=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Nd=String.fromCharCode(30),Th=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((o,a)=>{_a(o,!1,l=>{r[a]=l,++s===n&&t(r.join(Nd))})})},Dh=(e,t)=>{const n=e.split(Nd),r=[];for(let s=0;s<n.length;s++){const o=Pa(n[s],t);if(r.push(o),o.type==="error")break}return r};function Ah(){return new TransformStream({transform(e,t){_h(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const o=new DataView(s.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{s=new Uint8Array(9);const o=new DataView(s.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let jo;function Fr(e){return e.reduce((t,n)=>t+n.length,0)}function Br(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function zh(e,t){jo||(jo=new TextDecoder);const n=[];let r=0,s=-1,o=!1;return new TransformStream({transform(a,l){for(n.push(a);;){if(r===0){if(Fr(n)<1)break;const c=Br(n,1);o=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Fr(n)<2)break;const c=Br(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(Fr(n)<8)break;const c=Br(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),h=u.getUint32(0);if(h>Math.pow(2,53-32)-1){l.enqueue(Ni);break}s=h*Math.pow(2,32)+u.getUint32(4),r=3}else{if(Fr(n)<s)break;const c=Br(n,s);l.enqueue(Pa(o?c:jo.decode(c),t)),r=0}if(s===0||s>e){l.enqueue(Ni);break}}}})}const kd=4;function re(e){if(e)return Oh(e)}function Oh(e){for(var t in re.prototype)e[t]=re.prototype[t];return e}re.prototype.on=re.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};re.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};re.prototype.off=re.prototype.removeListener=re.prototype.removeAllListeners=re.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};re.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};re.prototype.emitReserved=re.prototype.emit;re.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};re.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Hs=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),Me=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())(),Mh="arraybuffer";function jd(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const Ih=Me.setTimeout,Lh=Me.clearTimeout;function Qs(e,t){t.useNativeTimers?(e.setTimeoutFn=Ih.bind(Me),e.clearTimeoutFn=Lh.bind(Me)):(e.setTimeoutFn=Me.setTimeout.bind(Me),e.clearTimeoutFn=Me.clearTimeout.bind(Me))}const $h=1.33;function Fh(e){return typeof e=="string"?Bh(e):Math.ceil((e.byteLength||e.size)*$h)}function Bh(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Sd(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Uh(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Vh(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class Wh extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class ba extends re{constructor(t){super(),this.writable=!1,Qs(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new Wh(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Pa(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Uh(t);return n.length?"?"+n:""}}class Hh extends ba{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Dh(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Th(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Sd()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Cd=!1;try{Cd=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Qh=Cd;function qh(){}class Xh extends Hh{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,o)=>{this.onError("xhr post error",s,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class tt extends re{constructor(t,n,r){super(),this.createRequest=t,Qs(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=jd(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=tt.requestsCount++,tt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=qh,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete tt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}tt.requestsCount=0;tt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Gl);else if(typeof addEventListener=="function"){const e="onpagehide"in Me?"pagehide":"unload";addEventListener(e,Gl,!1)}}function Gl(){for(let e in tt.requests)tt.requests.hasOwnProperty(e)&&tt.requests[e].abort()}const Kh=function(){const e=Ed({xdomain:!1});return e&&e.responseType!==null}();class Gh extends Xh{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=Kh&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new tt(Ed,this.uri(),t)}}function Ed(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Qh))return new XMLHttpRequest}catch{}if(!t)try{return new Me[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const _d=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Yh extends ba{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=_d?{}:jd(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;_a(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}s&&Hs(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Sd()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const So=Me.WebSocket||Me.MozWebSocket;class Zh extends Yh{createSocket(t,n,r){return _d?new So(t,n,r):n?new So(t,n):new So(t)}doWrite(t,n){this.ws.send(n)}}class Jh extends ba{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=zh(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=Ah();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const o=()=>{r.read().then(({done:l,value:c})=>{l||(this.onPacket(c),o())}).catch(l=>{})};o();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&Hs(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const em={websocket:Zh,webtransport:Jh,polling:Gh},tm=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,nm=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ki(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=tm.exec(e||""),o={},a=14;for(;a--;)o[nm[a]]=s[a]||"";return n!=-1&&r!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=rm(o,o.path),o.queryKey=sm(o,o.query),o}function rm(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function sm(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,o){s&&(n[s]=o)}),n}const ji=typeof addEventListener=="function"&&typeof removeEventListener=="function",ts=[];ji&&addEventListener("offline",()=>{ts.forEach(e=>e())},!1);class Rt extends re{constructor(t,n){if(super(),this.binaryType=Mh,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=ki(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=ki(n.host).host);Qs(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Vh(this.opts.query)),ji&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ts.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=kd,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Rt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Rt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=Fh(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Hs(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:t,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Rt.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ji&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=ts.indexOf(this._offlineEventListener);r!==-1&&ts.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Rt.protocol=kd;class om extends Rt{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;Rt.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!r)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Rt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(h(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=n.name,this.emitReserved("upgradeError",m)}}))};function o(){r||(r=!0,h(),n.close(),n=null)}const a=g=>{const m=new Error("probe error: "+g);m.transport=n.name,o(),this.emitReserved("upgradeError",m)};function l(){a("transport closed")}function c(){a("socket closed")}function u(g){n&&g.name!==n.name&&o()}const h=()=>{n.removeListener("open",s),n.removeListener("error",a),n.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};n.once("open",s),n.once("error",a),n.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let im=class extends om{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>em[s]).filter(s=>!!s)),super(t,r)}};function am(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=ki(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}const lm=typeof ArrayBuffer=="function",cm=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Pd=Object.prototype.toString,um=typeof Blob=="function"||typeof Blob<"u"&&Pd.call(Blob)==="[object BlobConstructor]",dm=typeof File=="function"||typeof File<"u"&&Pd.call(File)==="[object FileConstructor]";function Ra(e){return lm&&(e instanceof ArrayBuffer||cm(e))||um&&e instanceof Blob||dm&&e instanceof File}function ns(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(ns(e[n]))return!0;return!1}if(Ra(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return ns(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&ns(e[n]))return!0;return!1}function fm(e){const t=[],n=e.data,r=e;return r.data=Si(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Si(e,t){if(!e)return e;if(Ra(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Si(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Si(e[r],t));return n}return e}function pm(e,t){return e.data=Ci(e.data,t),delete e.attachments,e}function Ci(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Ci(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Ci(e[n],t));return e}const hm=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],mm=5;var F;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(F||(F={}));class gm{constructor(t){this.replacer=t}encode(t){return(t.type===F.EVENT||t.type===F.ACK)&&ns(t)?this.encodeAsBinary({type:t.type===F.EVENT?F.BINARY_EVENT:F.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===F.BINARY_EVENT||t.type===F.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=fm(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function Yl(e){return Object.prototype.toString.call(e)==="[object Object]"}class Ta extends re{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===F.BINARY_EVENT;r||n.type===F.BINARY_ACK?(n.type=r?F.EVENT:F.ACK,this.reconstructor=new ym(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Ra(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(F[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===F.BINARY_EVENT||r.type===F.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const a=t.substring(o,n);if(a!=Number(a)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(o,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const o=n+1;for(;++n;){const a=t.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===t.length)break}r.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(Ta.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case F.CONNECT:return Yl(n);case F.DISCONNECT:return n===void 0;case F.CONNECT_ERROR:return typeof n=="string"||Yl(n);case F.EVENT:case F.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&hm.indexOf(n[0])===-1);case F.ACK:case F.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ym{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=pm(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const xm=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ta,Encoder:gm,get PacketType(){return F},protocol:mm},Symbol.toStringTag,{value:"Module"}));function We(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const vm=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class bd extends re{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[We(t,"open",this.onopen.bind(this)),We(t,"packet",this.onpacket.bind(this)),We(t,"error",this.onerror.bind(this)),We(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,o;if(vm.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const a={type:F.EVENT,data:n};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const h=this.ids++,g=n.pop();this._registerAckCallback(h,g),a.id=h}const l=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},s),a=(...l)=>{this.io.clearTimeoutFn(o),n.apply(this,l)};a.withError=!0,this.acks[t]=a}emitWithAck(t,...n){return new Promise((r,s)=>{const o=(a,l)=>a?s(a):r(l);o.withError=!0,n.push(o),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...o)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:F.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case F.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case F.EVENT:case F.BINARY_EVENT:this.onevent(t);break;case F.ACK:case F.BINARY_ACK:this.onack(t);break;case F.DISCONNECT:this.ondisconnect();break;case F.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:F.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:F.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function bn(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}bn.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};bn.prototype.reset=function(){this.attempts=0};bn.prototype.setMin=function(e){this.ms=e};bn.prototype.setMax=function(e){this.max=e};bn.prototype.setJitter=function(e){this.jitter=e};class Ei extends re{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Qs(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new bn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||xm;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new im(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=We(n,"open",function(){r.onopen(),t&&t()}),o=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},a=We(n,"error",o);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{s(),o(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(a),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(We(t,"ping",this.onping.bind(this)),We(t,"data",this.ondata.bind(this)),We(t,"error",this.onerror.bind(this)),We(t,"close",this.onclose.bind(this)),We(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Hs(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new bd(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ln={};function rs(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=am(e,t.path||"/socket.io"),r=n.source,s=n.id,o=n.path,a=Ln[s]&&o in Ln[s].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let c;return l?c=new Ei(r,t):(Ln[s]||(Ln[s]=new Ei(r,t)),c=Ln[s]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(rs,{Manager:Ei,Socket:bd,io:rs,connect:rs});const Rd=window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1",_i=Rd?window.location.origin:"http://localhost:3002";console.log("🌍 Ambiente detectado:",Rd?"PRODUÇÃO":"DESENVOLVIMENTO");console.log("🔗 Socket URL:",_i);console.log("📍 Hostname:",window.location.hostname);class wm{constructor(){this.socket=null,this.isInitializing=!1,this.callbacks={onQR:()=>console.log("Callback onQR não fornecido"),onReady:()=>console.log("Callback onReady não fornecido"),onDisconnected:()=>console.log("Callback onDisconnected não fornecido"),onMessage:()=>console.log("Callback onMessage não fornecido"),onError:t=>console.error("Erro não tratado:",t)},this.connect()}safeExecuteCallback(t,n){try{setTimeout(()=>{try{console.log(`Executando callback ${n} de forma segura...`),t(),console.log(`Callback ${n} executado com sucesso`)}catch(r){console.error(`Erro ao executar callback ${n}:`,r)}},0)}catch(r){console.error(`Erro ao agendar callback ${n}:`,r)}}connect(){console.log("=== WHATSAPP SERVICE: Conectando ao servidor ==="),console.log("Socket URL:",_i),this.socket=rs(_i,{transports:["websocket","polling"],upgrade:!0,rememberUpgrade:!0,timeout:2e4,forceNew:!0}),this.socket.on("connect",()=>{console.log("✅ Conectado ao servidor WhatsApp"),console.log("Socket ID:",this.socket?.id),console.log("Socket conectado?",this.socket?.connected)}),this.socket.on("disconnect",()=>{console.log("❌ Desconectado do servidor WhatsApp"),console.log("Socket conectado?",this.socket?.connected)}),this.socket.on("connect_error",t=>{console.error("❌ Erro de conexão:",t)}),this.socket.on("qr-code",t=>{console.log("=== QR CODE RECEBIDO NO SERVICE ==="),console.log("QR Code recebido, tamanho:",t?.length||0),console.log("QR Code válido?",!!t&&t.length>100),console.log("Primeiros 50 chars:",t?.substring(0,50)+"..."),console.log("Últimos 50 chars:",t?.substring(t.length-50)+"..."),console.log("Callbacks disponíveis:",Object.keys(this.callbacks)),console.log("Callback onQR existe?",!!this.callbacks.onQR),this.safeExecuteCallback(()=>this.callbacks.onQR(t),"onQR")}),this.socket.on("whatsapp-status",t=>{console.log("📱 Status WhatsApp recebido:",t),console.log("Status completo:",JSON.stringify(t,null,2)),this.isInitializing&&(console.log("🔄 Resetando flag de inicialização"),this.isInitializing=!1),t.connected?(console.log("Chamando callback onReady de forma segura..."),setTimeout(()=>{this.safeExecuteCallback(()=>this.callbacks.onReady(),"onReady")},100)):!t.connected&&t.status!=="qr_received"&&t.status!=="initializing"&&(console.log("Chamando callback onDisconnected de forma segura..."),this.safeExecuteCallback(()=>this.callbacks.onDisconnected(),"onDisconnected"))}),this.socket.on("message-received",t=>{console.log("📨 Mensagem recebida:",t),this.safeExecuteCallback(()=>this.callbacks.onMessage(t),"onMessage")}),this.socket.on("error",t=>{console.error("❌ Erro do servidor:",t),this.isInitializing&&(console.log("🔄 Resetando flag de inicialização devido a erro"),this.isInitializing=!1),this.safeExecuteCallback(()=>this.callbacks.onError(t),"onError")})}initializeWhatsApp(t,n,r,s,o){if(console.log("=== WHATSAPP SERVICE: initializeWhatsApp ==="),console.log("Socket conectado?",this.socket?.connected),console.log("Socket ID:",this.socket?.id),console.log("Já está inicializando?",this.isInitializing),console.log("Callbacks recebidos:",{onQR:!!t,onReady:!!n,onDisconnected:!!r,onMessage:!!s,onError:!!o}),this.isInitializing){console.log("⚠️ WhatsApp já está sendo inicializado, ignorando nova chamada");return}this.callbacks={onQR:t||this.callbacks.onQR,onReady:n||this.callbacks.onReady,onDisconnected:r||this.callbacks.onDisconnected,onMessage:s||this.callbacks.onMessage,onError:o||this.callbacks.onError};const a=()=>{this.socket&&this.socket.connected?(console.log("✅ Socket conectado, emitindo init-whatsapp..."),this.isInitializing=!0,this.socket.emit("init-whatsapp"),console.log("✅ init-whatsapp emitido com sucesso")):(console.log("⏳ Socket não conectado ainda, aguardando..."),setTimeout(()=>{this.socket&&this.socket.connected?a():(console.error("❌ Socket não conectou após timeout"),this.isInitializing=!1,o&&this.safeExecuteCallback(()=>o("Socket não conseguiu conectar"),"onError"))},500))};a()}disconnectWhatsApp(){console.log("=== WHATSAPP SERVICE: disconnectWhatsApp ==="),this.isInitializing=!1,this.socket&&(this.socket.emit("disconnect-whatsapp"),console.log("disconnect-whatsapp emitido"))}sendMessage(t,n){this.socket&&this.socket.emit("send-message",{to:t,message:n})}checkStatus(){this.socket&&this.socket.emit("check-status")}isConnected(){console.log("=== WHATSAPP SERVICE: isConnected ==="),console.log("Socket existe?",!!this.socket),console.log("Socket conectado?",this.socket?.connected);const t=this.socket?.connected||!1;return console.log("Retornando:",t),t}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}getSocket(){return this.socket}}const lt=new wm,Td=(e,t,n,r,s)=>{console.log("=== EXPORT: initializeWhatsApp ==="),lt.initializeWhatsApp(e,t,n,r,s)},Zl=()=>{console.log("=== EXPORT: disconnectWhatsApp ==="),lt.disconnectWhatsApp()};lt.getSocket();const Nm={name:"Pizzaria Delícia",greeting:`Olá! Seja bem-vindo à Pizzaria Delícia. Digite o número da opção desejada:
1. Ver Cardápio 📖
2. Ver Promoções 🔥`,deliveryFee:5,pixKey:"contato@pizzariadelicia.com.br",address:"Rua das Pizzas, 123 - Centro - Cidade Exemplo",menuImage:"https://images.pexels.com/photos/315755/pexels-photo-315755.jpeg?auto=compress&cs=tinysrgb&w=800",menuImages:[]},km=[{id:"1",name:"Pizzas",products:[{id:"1",name:"Pizza de Calabresa",price:45.5,image:"https://images.pexels.com/photos/315755/pexels-photo-315755.jpeg?auto=compress&cs=tinysrgb&w=400",categoryId:"1"},{id:"2",name:"Pizza Margherita",price:42,image:"https://images.pexels.com/photos/2147491/pexels-photo-2147491.jpeg?auto=compress&cs=tinysrgb&w=400",categoryId:"1"}]},{id:"2",name:"Bebidas",products:[{id:"3",name:"Coca-Cola 2L",price:8,image:"https://images.pexels.com/photos/50593/coca-cola-cold-drink-soft-drink-coke-50593.jpeg?auto=compress&cs=tinysrgb&w=400",categoryId:"2"}]}];function Da(){const[e,t]=_.useState(Nm),[n,r]=_.useState(km),[s,o]=_.useState([]),[a,l]=_.useState([]),[c,u]=_.useState([]),[h,g]=_.useState(!1),[m,w]=_.useState(null);_.useEffect(()=>{const T=lt.getSocket();if(T)return T.on("store-data",P=>{P.config&&t(P.config),P.categories&&r(P.categories),P.promotions&&o(P.promotions)}),T.on("orders-update",P=>{l(P)}),T.on("new-order",P=>{l(O=>[P,...O])}),T.on("store-data-updated",P=>{g(!1),P.success?(w("success"),console.log("✅ Dados salvos com sucesso no servidor"),setTimeout(()=>w(null),3e3)):(w("error"),console.error("❌ Erro ao salvar dados:",P.error),setTimeout(()=>w(null),5e3))}),()=>{T.off("store-data"),T.off("orders-update"),T.off("new-order"),T.off("store-data-updated")}},[]);const v=async(T,P=0)=>{console.log("=== SINCRONIZANDO COM BACKEND ==="),console.log("Dados sendo enviados:",JSON.stringify(T,null,2)),g(!0);const O=lt.getSocket();if(O){console.log("Socket encontrado, enviando dados...");try{O.emit("update-store-data",T),console.log("Dados enviados com sucesso!");const L=setTimeout(()=>{h&&(console.log("⚠️ Timeout na confirmação, tentando novamente..."),P<3?v(T,P+1):(g(!1),w("error"),console.error("❌ Falha após 3 tentativas de salvamento")))},5e3);O.once("store-data-updated",()=>{clearTimeout(L)})}catch(L){console.error("❌ Erro ao enviar dados:",L),g(!1),w("error"),P<3&&(console.log(`🔄 Tentativa ${P+1} de 3...`),setTimeout(()=>v(T,P+1),1e3))}}else console.log("ERRO: Socket não encontrado!"),g(!1),w("error"),P<3&&(console.log("🔄 Tentando reconectar socket..."),setTimeout(()=>{setTimeout(()=>v(T,P+1),1e3)},1e3))};return{storeConfig:e,updateStoreConfig:async T=>{const P={...e,...T};t(P),await v({config:P})},categories:n,addCategory:async T=>{const P={id:Date.now().toString(),name:T,products:[]},O=[...n,P];r(O),await v({categories:O})},updateCategory:async(T,P)=>{const O=n.map(L=>L.id===T?{...L,name:P}:L);r(O),await v({categories:O})},deleteCategory:async T=>{const P=n.filter(O=>O.id!==T);r(P),await v({categories:P})},addProduct:async(T,P)=>{const O={...P,id:Date.now().toString(),categoryId:T},L=n.map(C=>C.id===T?{...C,products:[...C.products,O]}:C);r(L),await v({categories:L})},updateProduct:async(T,P,O)=>{const L=n.map(C=>C.id===T?{...C,products:C.products.map(A=>A.id===P?{...A,...O}:A)}:C);r(L),await v({categories:L})},deleteProduct:async(T,P)=>{const O=n.map(L=>L.id===T?{...L,products:L.products.filter(C=>C.id!==P)}:L);r(O),await v({categories:O})},promotions:s,addPromotion:async T=>{const P={...T,id:Date.now().toString()},O=[...s,P];o(O),await v({promotions:O})},updatePromotion:async(T,P)=>{const O=s.map(L=>L.id===T?{...L,...P}:L);o(O),await v({promotions:O})},deletePromotion:async T=>{const P=s.filter(O=>O.id!==T);o(P),await v({promotions:P})},orders:a,addOrder:async T=>{const O=[{...T,id:Date.now().toString(),createdAt:new Date},...a];l(O),await v({orders:O})},updateOrderStatus:async(T,P)=>{const O=a.map(L=>L.id===T?{...L,status:P}:L);l(O),await v({orders:O})},customerSessions:c,getOrCreateSession:T=>{let P=c.find(O=>O.phone===T);return P||(P={phone:T,cart:[],customerData:null,lastActivity:new Date},u(O=>[...O,P])),P},updateSession:(T,P)=>{u(O=>O.map(L=>L.phone===T?{...L,...P,lastActivity:new Date}:L))},getAllProducts:()=>n.flatMap(T=>T.products),isSaving:h,lastSaveStatus:m}}const jm=({onOpenWhatsAppSettings:e})=>{const{isSaving:t,lastSaveStatus:n}=Da();return i.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Painel Administrativo"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[t&&i.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),i.jsx("span",{className:"text-sm font-medium",children:"Salvando..."})]}),n==="success"&&i.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[i.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),i.jsx("span",{className:"text-sm font-medium",children:"Salvo!"})]}),n==="error"&&i.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[i.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),i.jsx("span",{className:"text-sm font-medium",children:"Erro ao salvar"})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"text-sm text-gray-500",children:"Todas as alterações são salvas automaticamente"}),e&&i.jsxs("button",{onClick:e,className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[i.jsx(ja,{size:18}),"Configurar WhatsApp"]})]})]})})};function Dd({onConnectionChange:e,onQRCode:t}){const[n,r]=_.useState(""),[s,o]=_.useState(""),[a,l]=_.useState(!1),[c,u]=_.useState(!1),[h,g]=_.useState(!1),m=_.useRef(!0);_.useEffect(()=>()=>{m.current=!1},[]);const w=(f,d)=>{m.current&&f(d)},v=async()=>{console.log("=== WHATSAPP CONNECTION: handleGenerateQR ==="),w(o,""),w(r,""),w(l,!1),w(u,!0),w(g,!0),setTimeout(()=>{console.log("Chamando initializeWhatsApp..."),Td(f=>{console.log("=== CALLBACK QR RECEBIDO NO COMPONENTE ==="),console.log("QR Code recebido, tamanho:",f?.length||0),console.log("QR Code válido?",!!f&&f.length>100),console.log("Primeiros 50 chars:",f?.substring(0,50)+"..."),m.current?(console.log("Componente ainda montado, atualizando estado..."),w(r,f),w(u,!1),t(f),console.log("Estado atualizado com sucesso")):console.log("Componente desmontado, ignorando atualização")},()=>{console.log("=== CALLBACK READY RECEBIDO NO COMPONENTE ==="),m.current&&(console.log("Callback onReady - apenas notificar, sem manipular DOM"),e(!0))},()=>{console.log("=== CALLBACK DISCONNECTED RECEBIDO NO COMPONENTE ==="),m.current&&(w(r,""),w(l,!1),w(u,!1),e(!1))},f=>{m.current&&(console.log("=== MENSAGEM RECEBIDA NO FRONTEND ==="),console.log("De:",f.from),console.log("Mensagem:",f.body),console.log("Timestamp:",f.timestamp))},f=>{console.log("=== CALLBACK ERROR RECEBIDO NO COMPONENTE ==="),console.log("Erro:",f),m.current&&(w(o,f),w(l,!1),w(u,!1))}),console.log("initializeWhatsApp chamado com sucesso")},300)},N=()=>{w(r,""),w(o,""),w(l,!1),w(u,!1),Zl()},D=()=>{w(l,!1),Zl(),e(!1)};return i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 min-h-[400px] flex flex-col items-center justify-center",children:[a&&i.jsxs("div",{className:"w-full mb-4 p-3 bg-green-100 border border-green-300 text-green-800 rounded-lg text-center flex items-center justify-center gap-2",children:[i.jsx(gr,{size:20,className:"text-green-600"}),i.jsx("span",{children:"WhatsApp conectado com sucesso!"})]}),i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(wh,{className:"text-green-600",size:24}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Conexão WhatsApp"})]}),s&&i.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("span",{className:"text-red-700 text-sm",children:s})}),(()=>(console.log("=== RENDERIZAÇÃO WHATSAPP CONNECTION ==="),console.log("isConnected:",a),console.log("isLoading:",c),console.log("hasStarted:",h),console.log("qrCodeData existe:",!!n),console.log("qrCodeData tamanho:",n?.length||0),a?i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(gr,{size:64,className:"mx-auto text-green-500 mb-4"}),i.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-2",children:"WhatsApp Conectado!"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Seu bot está pronto para receber pedidos via WhatsApp"}),i.jsxs("div",{className:"flex gap-3 justify-center mt-4",children:[i.jsx("button",{onClick:D,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors",children:"Desconectar"}),i.jsx("button",{onClick:v,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"Reconectar"})]})]}):c||h?(console.log("Renderizando loading..."),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-[300px] h-[300px] flex items-center justify-center bg-gradient-to-br from-green-50 to-blue-50 border-2 border-green-200 rounded-lg mb-4 shadow-lg",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(yh,{size:80,className:"text-green-500 animate-pulse mb-4"}),i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})}),i.jsx("h4",{className:"text-xl font-semibold text-gray-800 mb-2",children:"🔍 Procurando QR Code..."}),i.jsx("p",{className:"text-gray-600 text-sm text-center max-w-sm",children:"Conectando ao servidor WhatsApp e preparando seu QR Code para conexão"}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 text-green-600",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-sm font-medium",children:"Procurando..."})]})]})):n?(console.log("Renderizando QR Code..."),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"bg-gradient-to-br from-white to-green-50 p-6 rounded-xl border-2 border-green-200 shadow-xl mb-6",children:i.jsx("div",{className:"bg-white p-2 rounded-lg shadow-inner",children:i.jsx("img",{src:n,alt:"QR Code WhatsApp",className:"w-[300px] h-[300px] object-contain"})})}),i.jsx("h4",{className:"text-xl font-semibold text-gray-800 mb-3",children:"📱 Escaneie o QR Code"}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 max-w-sm",children:[i.jsx("h5",{className:"font-semibold text-blue-800 mb-2",children:"📋 Como conectar:"}),i.jsxs("div",{className:"space-y-2 text-sm text-blue-700",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"bg-blue-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:"1"}),i.jsx("span",{children:"Abra o WhatsApp no seu celular"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"bg-blue-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:"2"}),i.jsxs("span",{children:["Toque em ",i.jsx("strong",{children:"Menu"})," ou ",i.jsx("strong",{children:"Configurações"})]})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"bg-blue-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:"3"}),i.jsxs("span",{children:["Toque em ",i.jsx("strong",{children:"Aparelhos conectados"})]})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"bg-blue-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:"4"}),i.jsxs("span",{children:["Toque em ",i.jsx("strong",{children:"Conectar um aparelho"})]})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"bg-blue-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:"5"}),i.jsx("span",{children:"Aponte seu celular para esta tela"})]})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:v,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[i.jsx(gh,{size:16}),"Gerar Novo QR"]}),i.jsxs("button",{onClick:N,className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors flex items-center gap-2",children:[i.jsx(yr,{size:16}),"Cancelar"]})]})]})):(console.log("Renderizando botão inicial..."),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-[200px] h-[200px] bg-gradient-to-br from-green-100 to-blue-100 rounded-full flex items-center justify-center mb-6 shadow-lg",children:i.jsx(Hl,{size:80,className:"text-green-600"})}),i.jsx("h4",{className:"text-2xl font-bold text-gray-800 mb-3",children:"🔗 Conectar WhatsApp"}),i.jsx("p",{className:"text-gray-600 text-center mb-8 max-w-sm",children:"Clique no botão abaixo para gerar um QR Code e conectar seu WhatsApp ao sistema"}),i.jsxs("button",{onClick:v,className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-8 py-4 rounded-xl hover:from-green-700 hover:to-green-800 transition-all duration-300 flex items-center gap-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[i.jsx(Hl,{size:24}),i.jsx("span",{className:"font-semibold text-lg",children:"Gerar QR Code"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:"⚡ Conexão rápida e segura"})]}))))()]})}function Jl({orders:e,categories:t,storeConfig:n,onTabChange:r,onOpenWhatsAppSettings:s}){const[o,a]=_.useState(!1),[l,c]=_.useState(""),u=e.reduce((d,p)=>d+p.total,0),h=t.reduce((d,p)=>d+p.products.length,0),g=e.filter(d=>{const p=new Date;return new Date(d.createdAt).toDateString()===p.toDateString()}),m=e.filter(d=>d.status==="NEW").length,w=e.filter(d=>d.status==="PREPARING").length,v=e.filter(d=>d.status==="COMPLETED").length,N={type:"loja",name:n?.name||"Sistema Bot WhatsApp"},D=[{title:"Pedidos Hoje",value:g.length,icon:Ql,color:"bg-blue-500",change:"+12%"},{title:"Receita Total",value:`R$ ${u.toFixed(2)}`,icon:ka,color:"bg-green-500",change:"+8%"},{title:"Produtos Ativos",value:h,icon:Pe,color:"bg-purple-500",change:"+2"},{title:"Ticket Médio",value:e.length>0?`R$ ${(u/e.length).toFixed(2)}`:"R$ 0,00",icon:kh,color:"bg-orange-500",change:"+5%"}],f=[{title:"Novos",value:m,icon:xi,color:"text-yellow-600"},{title:"Preparando",value:w,icon:Pe,color:"text-blue-600"},{title:"Finalizados",value:v,icon:gr,color:"text-green-600"}];return i.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Ps,{className:"text-gray-500",size:32}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:N.name}),i.jsxs("p",{className:"text-gray-600",children:[N.type==="pizzaria",N.type==="distribuidora","Sistema de pedidos personalizado"]})]})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:D.map((d,p)=>{const x=d.icon;return i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:d.title}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.value}),i.jsx("p",{className:"text-sm text-green-600 font-medium",children:d.change})]}),i.jsx("div",{className:`${d.color} rounded-lg p-3`,children:i.jsx(x,{className:"text-white",size:24})})]})},p)})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Status dos Pedidos"}),i.jsx("div",{className:"space-y-4",children:f.map((d,p)=>{const x=d.icon;return i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(x,{className:d.color,size:20}),i.jsx("span",{className:"font-medium text-gray-700",children:d.title})]}),i.jsx("span",{className:"text-xl font-bold text-gray-900",children:d.value})]},p)})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Pedidos Recentes"}),i.jsxs("div",{className:"space-y-3",children:[e.slice(0,5).map(d=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-gray-800",children:["#",d.id]}),i.jsx("p",{className:"text-sm text-gray-600",children:d.customerPhone})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-medium text-gray-800",children:["R$ ",d.total.toFixed(2)]}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${d.status==="NEW"?"bg-yellow-100 text-yellow-800":d.status==="PREPARING"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:d.status==="NEW"?"Novo":d.status==="PREPARING"?"Preparando":"Finalizado"})]})]},d.id)),e.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Pe,{size:32,className:"mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"Nenhum pedido ainda"}),i.jsx("p",{className:"text-sm",children:"Aguardando pedidos..."})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Ações Rápidas"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg text-center hover:border-green-500 hover:bg-green-50 transition-colors",onClick:()=>r("products"),children:[i.jsx(Pe,{className:"mx-auto mb-2 text-gray-400",size:24}),i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Adicionar Produto"})]}),i.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg text-center hover:border-blue-500 hover:bg-blue-50 transition-colors",onClick:()=>r("orders"),children:[i.jsx(Ql,{className:"mx-auto mb-2 text-gray-400",size:24}),i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ver Pedidos"})]}),i.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg text-center hover:border-purple-500 hover:bg-purple-50 transition-colors",onClick:()=>r("bot"),children:[i.jsx(Sh,{className:"mx-auto mb-2 text-gray-400",size:24}),i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Configurar Bot"})]}),s&&i.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg text-center hover:border-green-500 hover:bg-green-50 transition-colors",onClick:s,children:[i.jsx(No,{className:"mx-auto mb-2 text-gray-400",size:24}),i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"WhatsApp QR Code"})]}),i.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg text-center hover:border-orange-500 hover:bg-orange-50 transition-colors",onClick:()=>r("settings"),children:[i.jsx(Ps,{className:"mx-auto mb-2 text-gray-400",size:24}),i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Configurar Loja"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(No,{className:"text-green-600",size:24}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Conexão WhatsApp"}),i.jsx("div",{className:`ml-auto px-2 py-1 rounded-full text-xs font-medium ${o?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o?"Conectado":"Desconectado"})]}),s&&i.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("p",{className:"text-blue-800 text-sm mb-2",children:"Para configurar o WhatsApp, clique no botão abaixo:"}),i.jsxs("button",{onClick:s,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[i.jsx(No,{size:16}),"Abrir Configuração WhatsApp"]})]}),i.jsx(Dd,{onConnectionChange:a,onQRCode:c})]})]})}function Sm({config:e,onUpdate:t}){const[n,r]=_.useState(e),[s,o]=_.useState(!1),a=u=>{u.preventDefault(),t(n)},l=(u,h)=>{r(g=>({...g,[u]:h}))},c=async u=>{const h=u.target.files?.[0];if(!h)return;o(!0);const g=new FormData;g.append("image",h);try{const w=await(await fetch("/api/upload",{method:"POST",body:g})).json();w.url?r(v=>({...v,menuImage:w.url})):alert("Erro ao fazer upload da imagem")}catch{alert("Erro ao fazer upload da imagem")}finally{o(!1)}};return i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(Ps,{className:"text-green-600",size:24}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Configurações da Loja"})]}),i.jsxs("form",{onSubmit:a,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Loja"}),i.jsx("input",{type:"text",value:n.name,onChange:u=>l("name",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taxa de Entrega (R$)"}),i.jsx("input",{type:"number",step:"0.01",value:n.deliveryFee,onChange:u=>l("deliveryFee",parseFloat(u.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chave PIX"}),i.jsx("input",{type:"text",value:n.pixKey,onChange:u=>l("pixKey",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endereço da Loja"}),i.jsx("input",{type:"text",value:n.address,onChange:u=>l("address",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagem do Cardápio"}),i.jsxs("div",{className:"flex items-center gap-4",children:[n.menuImage&&i.jsx("img",{src:n.menuImage,alt:"Cardápio",className:"h-24 rounded shadow border"}),i.jsx("input",{type:"file",accept:"image/*",onChange:c,disabled:s,className:"block"}),s&&i.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-1",children:[i.jsx(xn,{className:"animate-spin",size:16})," Enviando..."]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensagem de Saudação do Bot"}),i.jsx("textarea",{value:n.greeting,onChange:u=>l("greeting",u.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{type:"submit",className:"flex items-center gap-2 bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[i.jsx(gd,{size:18}),"Salvar Configurações"]})})]})]})})}function ec({categories:e,onAddCategory:t,onUpdateCategory:n,onDeleteCategory:r,onSelectCategory:s}){const[o,a]=_.useState(!1),[l,c]=_.useState(""),[u,h]=_.useState(null),[g,m]=_.useState(""),w=f=>{f.preventDefault(),l.trim()&&(t(l.trim()),c(""),a(!1))},v=(f,d)=>{h(f),m(d)},N=()=>{u&&g.trim()&&(n(u,g.trim()),h(null),m(""))},D=()=>{h(null),m("")};return i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(wi,{className:"text-green-600",size:24}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Categorias do Cardápio"})]}),i.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[i.jsx(Ca,{size:18}),"Nova Categoria"]})]}),o&&i.jsx("form",{onSubmit:w,className:"mb-6 p-4 bg-gray-50 rounded-lg",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("input",{type:"text",value:l,onChange:f=>c(f.target.value),placeholder:"Nome da categoria",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",autoFocus:!0}),i.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Adicionar"}),i.jsx("button",{type:"button",onClick:()=>a(!1),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(f=>i.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:u===f.id?i.jsxs("div",{className:"space-y-3",children:[i.jsx("input",{type:"text",value:g,onChange:d=>m(d.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-green-500"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:N,className:"flex-1 bg-green-600 text-white py-1 rounded text-sm hover:bg-green-700 transition-colors",children:"Salvar"}),i.jsx("button",{onClick:D,className:"flex-1 bg-gray-500 text-white py-1 rounded text-sm hover:bg-gray-600 transition-colors",children:"Cancelar"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h4",{className:"font-semibold text-gray-800",children:f.name}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:()=>v(f.id,f.name),className:"text-blue-600 hover:text-blue-800 transition-colors",children:i.jsx(Sa,{size:16})}),i.jsx("button",{onClick:()=>r(f.id),className:"text-red-600 hover:text-red-800 transition-colors",children:i.jsx(Ea,{size:16})})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx(Pe,{size:16}),f.products.length," produtos"]}),i.jsx("button",{onClick:()=>s(f),className:"text-green-600 hover:text-green-800 font-medium text-sm transition-colors",children:"Gerenciar Produtos"})]})]})},f.id))}),e.length===0&&i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx(wi,{size:48,className:"mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Nenhuma categoria criada ainda."}),i.jsx("p",{className:"text-sm",children:"Adicione sua primeira categoria para começar!"})]})]})})}function Cm({category:e,onBack:t,onAddProduct:n,onUpdateProduct:r,onDeleteProduct:s}){const[o,a]=_.useState(!1),[l,c]=_.useState(null),[u,h]=_.useState({name:"",price:0,image:"",unit:"unit",unitLabel:"unidade",packSize:1,packPrice:0,unitPrice:0}),[g,m]=_.useState(null),[w,v]=_.useState(!1),N=async x=>{const y=x.target.files?.[0];if(!y)return;v(!0);const S=new FormData;S.append("image",y);try{const E=await(await fetch("/api/upload",{method:"POST",body:S})).json();E.url?(h(z=>({...z,image:E.url})),m(E.url)):alert("Erro ao fazer upload da imagem")}catch{alert("Erro ao fazer upload da imagem")}finally{v(!1)}},D=x=>{if(x.preventDefault(),console.log("Tentando salvar produto:",u),console.log("Validação - Nome:",u.name.trim(),"Preço:",u.price),u.name.trim()){console.log("Validação passou, salvando produto...");const y={...u,price:u.price||0,categoryId:e.id};l?(console.log("Editando produto existente:",l),r(e.id,l,y),c(null)):(console.log("Adicionando novo produto"),n(e.id,y)),h({name:"",price:0,image:"",unit:"unit",unitLabel:"unidade",packSize:1,packPrice:0,unitPrice:0}),m(null),a(!1),console.log("Produto salvo com sucesso!")}else console.log("Validação falhou - Nome vazio"),alert("Por favor, preencha pelo menos o nome do produto.")},f=x=>{c(x.id),h({name:x.name,price:x.price,image:x.image,unit:x.unit||"unit",unitLabel:x.unitLabel||"unidade",packSize:x.packSize||1,packPrice:x.packPrice||0,unitPrice:x.unitPrice||0}),m(x.image||null),a(!0)},d=()=>{c(null),h({name:"",price:0,image:"",unit:"unit",unitLabel:"unidade",packSize:1,packPrice:0,unitPrice:0}),m(null),a(!1)},p=x=>{const y=x.target.value;h(S=>({...S,image:y})),m(y||null)};return i.jsx("div",{className:"max-w-6xl mx-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-800 transition-colors",children:i.jsx(uh,{size:24})}),i.jsx(Pe,{className:"text-green-600",size:24}),i.jsxs("h3",{className:"text-xl font-semibold text-gray-800",children:["Produtos - ",e.name]})]}),i.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[i.jsx(Ca,{size:18}),"Novo Produto"]})]}),o&&i.jsxs("form",{onSubmit:D,className:"mb-6 p-6 bg-gray-50 rounded-lg",children:[i.jsx("h4",{className:"text-lg font-medium mb-4",children:l?"Editar Produto":"Novo Produto"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Produto"}),i.jsx("input",{type:"text",value:u.name,onChange:x=>h(y=>({...y,name:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Ex: Pizza Margherita",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preço Principal (R$)"}),i.jsx("input",{type:"number",step:"0.01",min:"0",value:u.price,onChange:x=>h(y=>({...y,price:parseFloat(x.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"0.00"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Preço principal usado para cálculos (opcional)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Unidade"}),i.jsxs("select",{value:u.unit,onChange:x=>{const y=x.target.value,S={unit:"unidade",pack:"fardo",box:"caixa"};h(k=>({...k,unit:y,unitLabel:S[y]}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[i.jsx("option",{value:"unit",children:"Unidade"}),i.jsx("option",{value:"pack",children:"Fardo"}),i.jsx("option",{value:"box",children:"Caixa"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Quantidade por ",u.unitLabel]}),i.jsx("input",{type:"number",min:"1",value:u.packSize,onChange:x=>h(y=>({...y,packSize:parseInt(x.target.value)||1})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"1",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Preço por ",u.unitLabel," (R$)"]}),i.jsx("input",{type:"number",step:"0.01",min:"0",value:u.packPrice,onChange:x=>h(y=>({...y,packPrice:parseFloat(x.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"0.00"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Preço do fardo/caixa (opcional)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preço por unidade (R$)"}),i.jsx("input",{type:"number",step:"0.01",min:"0",value:u.unitPrice,onChange:x=>h(y=>({...y,unitPrice:parseFloat(x.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"0.00"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Preço da unidade individual (opcional)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagem do Produto"}),i.jsxs("div",{className:"relative mb-3",children:[i.jsx("input",{type:"url",value:u.image,onChange:p,className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"https://exemplo.com/imagem.jpg"}),i.jsx(Bt,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-1",children:i.jsx("input",{type:"file",accept:"image/*",onChange:N,disabled:w,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100"})}),w&&i.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[i.jsx(xn,{className:"animate-spin",size:16}),i.jsx("span",{children:"Enviando..."})]})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cole o link da imagem ou faça upload de um arquivo do seu computador"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview da Imagem"}),i.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 h-64 flex items-center justify-center",children:g?i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx("img",{src:g,alt:"Preview",className:"max-w-full max-h-full object-contain rounded-lg",onError:()=>m(null)})}):i.jsxs("div",{className:"text-center text-gray-500",children:[i.jsx(xn,{size:48,className:"mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"Imagem aparecerá aqui"}),i.jsx("p",{className:"text-xs",children:"Cole o link da imagem no campo ao lado"})]})})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:l?"Salvar":"Adicionar"}),i.jsx("button",{type:"button",onClick:d,className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.products.map(x=>i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[x.image?i.jsxs("div",{className:"h-48 bg-gray-100 flex items-center justify-center",children:[i.jsx("img",{src:x.image,alt:x.name,className:"w-full h-full object-cover",onError:y=>{const S=y.currentTarget;S.style.display="none";const k=S.nextElementSibling;k&&(k.style.display="flex")}}),i.jsx("div",{className:"hidden items-center justify-center w-full h-full text-gray-400",children:i.jsx(Bt,{size:48})})]}):i.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-gray-400",children:[i.jsx(Bt,{size:48,className:"mx-auto mb-2"}),i.jsx("p",{className:"text-sm",children:"Sem imagem"})]})}),i.jsxs("div",{className:"p-4",children:[i.jsx("h5",{className:"font-semibold text-gray-800 mb-2",children:x.name}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Pe,{size:14,className:"text-gray-500"}),i.jsx("span",{className:"text-sm text-gray-600",children:x.unitLabel||"unidade"})]}),i.jsxs("div",{className:"space-y-1",children:[x.packPrice&&x.packPrice>0&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-sm text-gray-600",children:[x.packSize||1,"x ",x.unitLabel||"unidade",":"]}),i.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["R$ ",x.packPrice.toFixed(2)]})]}),x.unitPrice&&x.unitPrice>0&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-sm text-gray-600",children:["1 ",x.unitLabel||"unidade",":"]}),i.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["R$ ",x.unitPrice.toFixed(2)]})]}),(!x.packPrice||x.packPrice===0)&&(!x.unitPrice||x.unitPrice===0)&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Preço:"}),i.jsxs("span",{className:"text-lg font-bold text-green-600",children:["R$ ",x.price.toFixed(2)]})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>f(x),className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(Sa,{size:16}),"Editar"]}),i.jsxs("button",{onClick:()=>s(e.id,x.id),className:"flex-1 flex items-center justify-center gap-2 bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-colors",children:[i.jsx(Ea,{size:16}),"Excluir"]})]})]})]},x.id))}),e.products.length===0&&i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx(Pe,{size:48,className:"mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Nenhum produto adicionado ainda."}),i.jsx("p",{className:"text-sm",children:"Adicione produtos a esta categoria!"})]})]})})}function Em({menuImage:e,menuImages:t=[],onUpdateMenuImage:n,onUpdateMenuImages:r}){const[s,o]=_.useState(e),[a,l]=_.useState(t),[c,u]=_.useState(!1),[h,g]=_.useState(!1),m=async f=>{const d=f.target.files?.[0];if(!d)return;g(!0);const p=new FormData;p.append("image",d);try{const y=await(await fetch("/api/upload",{method:"POST",body:p})).json();y.url?o(y.url):alert("Erro ao fazer upload da imagem")}catch{alert("Erro ao fazer upload da imagem")}finally{g(!1)}},w=async f=>{const d=Array.from(f.target.files||[]);if(d.length!==0){g(!0);try{const p=[];for(const x of d){const y=new FormData;y.append("image",x);const k=await(await fetch("/api/upload",{method:"POST",body:y})).json();k.url&&p.push(k.url)}p.length>0&&l(x=>[...x,...p])}catch{alert("Erro ao fazer upload das imagens")}finally{g(!1)}}},v=f=>{l(d=>d.filter((p,x)=>x!==f))},N=()=>{n(s),r(a),u(!1)},D=()=>{o(e),l(t),u(!1)};return i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Bt,{className:"text-green-600",size:24}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Imagem do Cardapio"})]}),!c&&i.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[i.jsx(Bt,{size:18}),"Editar Imagem"]})]}),c?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagem do Cardápio"}),i.jsxs("div",{className:"relative mb-3",children:[i.jsx("input",{type:"url",value:s,onChange:f=>o(f.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"https://exemplo.com/cardapio.jpg"}),i.jsx(Bt,{className:"absolute right-3 top-2.5 text-gray-400",size:20})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-1",children:i.jsx("input",{type:"file",accept:"image/*",onChange:m,disabled:h,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100"})}),h&&i.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[i.jsx(xn,{className:"animate-spin",size:16}),i.jsx("span",{children:"Enviando..."})]})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cole o link da imagem ou faça upload de um arquivo do seu computador"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagens Adicionais do Cardápio"}),i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"flex-1",children:i.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:w,disabled:h,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})}),h&&i.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[i.jsx(xn,{className:"animate-spin",size:16}),i.jsx("span",{children:"Enviando..."})]})]}),i.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Selecione múltiplas imagens para adicionar ao cardápio (Ctrl+Click para selecionar várias)"}),a.length>0&&i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:a.map((f,d)=>i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:f,alt:`Cardápio ${d+1}`,className:"w-full h-32 object-cover rounded-lg border"}),i.jsx("button",{onClick:()=>v(d),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",title:"Remover imagem",children:i.jsx(yr,{size:14})})]},d))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview da Imagem"}),i.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 h-96 flex items-center justify-center",children:s?i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx("img",{src:s,alt:"Cardapio",className:"max-w-full max-h-full object-contain rounded-lg",onError:()=>o("")})}):i.jsxs("div",{className:"text-center text-gray-500",children:[i.jsx(xn,{size:48,className:"mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"Imagem do cardapio aparecera aqui"}),i.jsx("p",{className:"text-xs",children:"Cole o link da imagem no campo acima"})]})})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:N,className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[i.jsx(gd,{size:18}),"Salvar"]}),i.jsxs("button",{onClick:D,className:"flex items-center gap-2 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:[i.jsx(yr,{size:18}),"Cancelar"]})]})]}):i.jsxs("div",{className:"space-y-4",children:[e?i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Imagem Principal do Cardápio"}),i.jsx("img",{src:e,alt:"Cardapio Atual",className:"w-full h-auto max-h-96 object-contain rounded-lg",onError:f=>{f.currentTarget.style.display="none"}})]}):i.jsxs("div",{className:"text-center py-12 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg",children:[i.jsx(Bt,{size:48,className:"mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Nenhuma imagem de cardapio definida"}),i.jsx("p",{className:"text-sm",children:'Clique em "Editar Imagem" para adicionar uma'})]}),t&&t.length>0&&i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Imagens Adicionais do Cardápio"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map((f,d)=>i.jsx("div",{className:"relative",children:i.jsx("img",{src:f,alt:`Cardápio ${d+1}`,className:"w-full h-32 object-cover rounded-lg border",onError:p=>{p.currentTarget.style.display="none"}})},d))})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Como funciona:"}),i.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[i.jsx("li",{children:"• Esta imagem sera enviada quando o cliente pedir o cardapio"}),i.jsx("li",{children:"• Use uma imagem clara e organizada do seu cardapio completo"}),i.jsx("li",{children:"• A imagem deve ser legivel e mostrar todos os produtos disponiveis"}),i.jsx("li",{children:"• Apos enviar a imagem, o bot aguardara o pedido do cliente"})]})]})]})]})})}function _m({promotions:e,onAddPromotion:t,onUpdatePromotion:n,onDeletePromotion:r}){const[s,o]=_.useState(!1),[a,l]=_.useState(null),[c,u]=_.useState({title:"",description:"",discount:0,image:"",active:!0}),h=v=>{v.preventDefault(),c.title.trim()&&c.description.trim()&&(a?(n(a,c),l(null)):t(c),u({title:"",description:"",discount:0,image:"",active:!0}),o(!1))},g=v=>{l(v.id),u({title:v.title,description:v.description,discount:v.discount,image:v.image,active:v.active}),o(!0)},m=()=>{l(null),u({title:"",description:"",discount:0,image:"",active:!0}),o(!1)},w=(v,N)=>{n(v,{active:!N})};return i.jsx("div",{className:"max-w-6xl mx-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(vi,{className:"text-orange-600",size:24}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Promoções"})]}),i.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors",children:[i.jsx(Ca,{size:18}),"Nova Promoção"]})]}),s&&i.jsxs("form",{onSubmit:h,className:"mb-6 p-6 bg-gray-50 rounded-lg",children:[i.jsx("h4",{className:"text-lg font-medium mb-4",children:a?"Editar Promoção":"Nova Promoção"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título da Promoção"}),i.jsx("input",{type:"text",value:c.title,onChange:v=>u(N=>({...N,title:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Ex: Pizza em Dobro",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Desconto (%)"}),i.jsx("input",{type:"number",min:"0",max:"100",value:c.discount,onChange:v=>u(N=>({...N,discount:parseInt(v.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição da Promoção"}),i.jsx("textarea",{value:c.description,onChange:v=>u(N=>({...N,description:v.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Descreva os detalhes da promoção...",required:!0})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL da Imagem da Promoção"}),i.jsx("input",{type:"url",value:c.image,onChange:v=>u(N=>({...N,image:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"https://exemplo.com/promocao.jpg"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:'Esta imagem será enviada pelo bot quando o cliente escolher "Ver Promoções"'})]}),i.jsx("div",{className:"mb-4",children:i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:c.active,onChange:v=>u(N=>({...N,active:v.target.checked})),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Promoção ativa"})]})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{type:"submit",className:"bg-orange-600 text-white px-6 py-2 rounded-lg hover:bg-orange-700 transition-colors",children:a?"Salvar":"Adicionar"}),i.jsx("button",{type:"button",onClick:m,className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancelar"})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(v=>i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:[v.image&&i.jsx("img",{src:v.image,alt:v.title,className:"w-full h-48 object-cover"}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h5",{className:"font-semibold text-gray-800",children:v.title}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ka,{size:14,className:"text-orange-600"}),i.jsxs("span",{className:"text-sm font-bold text-orange-600",children:[v.discount,"% OFF"]})]})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:v.description}),i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${v.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:[v.active?i.jsx(ph,{size:12}):i.jsx(fh,{size:12}),v.active?"Ativa":"Inativa"]}),i.jsx("button",{onClick:()=>w(v.id,v.active),className:`text-xs px-2 py-1 rounded ${v.active?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"} transition-colors`,children:v.active?"Desativar":"Ativar"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>g(v),className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(Sa,{size:16}),"Editar"]}),i.jsxs("button",{onClick:()=>r(v.id),className:"flex-1 flex items-center justify-center gap-2 bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-colors",children:[i.jsx(Ea,{size:16}),"Excluir"]})]})]})]},v.id))}),e.length===0&&i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx(vi,{size:48,className:"mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Nenhuma promoção criada ainda."}),i.jsx("p",{className:"text-sm",children:"Adicione promoções para atrair mais clientes!"})]})]})})}function Pm({orders:e,onUpdateStatus:t,onPrint:n}){const r=a=>{switch(a){case"NEW":return"bg-yellow-100 text-yellow-800";case"PREPARING":return"bg-blue-100 text-blue-800";case"COMPLETED":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},s=a=>{switch(a){case"NEW":return i.jsx(xi,{size:16});case"PREPARING":return i.jsx(Pe,{size:16});case"COMPLETED":return i.jsx(gr,{size:16});default:return i.jsx(xi,{size:16})}},o=a=>{switch(a){case"NEW":return"Novo";case"PREPARING":return"Preparando";case"COMPLETED":return"Finalizado";default:return a}};return i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(Pe,{className:"text-green-600",size:24}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Pedidos"}),i.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-sm font-medium",children:[e.length," pedidos"]})]}),i.jsx("div",{className:"space-y-4",children:e.map(a=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("h4",{className:"text-lg font-semibold text-gray-800",children:["Pedido #",a.id]}),i.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-sm font-medium ${r(a.status)}`,children:[s(a.status),o(a.status)]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("select",{value:a.status,onChange:l=>t(a.id,l.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:[i.jsx("option",{value:"NEW",children:"Novo"}),i.jsx("option",{value:"PREPARING",children:"Preparando"}),i.jsx("option",{value:"COMPLETED",children:"Finalizado"})]}),i.jsxs("button",{onClick:()=>n(a),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[i.jsx(md,{size:16}),"Imprimir"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Cliente"}),i.jsx("p",{className:"text-gray-600",children:a.customerName||"Nome não informado"}),i.jsx("p",{className:"text-gray-600",children:a.customerPhone}),i.jsx("p",{className:"text-sm text-gray-500",children:a.createdAt instanceof Date?a.createdAt.toLocaleString():new Date(a.createdAt).toLocaleString()})]}),a.address&&i.jsxs("div",{children:[i.jsxs("h5",{className:"font-medium text-gray-700 mb-2 flex items-center gap-1",children:[i.jsx(hh,{size:16}),"Endereço de Entrega"]}),i.jsx("p",{className:"text-gray-600 text-sm",children:a.address})]}),i.jsxs("div",{children:[i.jsxs("h5",{className:"font-medium text-gray-700 mb-2 flex items-center gap-1",children:[i.jsx(ka,{size:16}),"Pagamento"]}),i.jsx("p",{className:"text-gray-600",children:a.paymentMethod==="PIX"?"PIX":a.paymentMethod==="CASH"?"Dinheiro":"Cartão"}),a.paymentMethod==="CASH"&&a.cashAmount&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"text-sm text-gray-500",children:["Valor pago: R$ ",a.cashAmount.toFixed(2)]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Troco: R$ ",a.change?.toFixed(2)]})]}),a.deliveryType&&i.jsxs("p",{className:"text-sm text-gray-500",children:["Tipo: ",a.deliveryType==="delivery"?"Entrega":"Retirada"]})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Itens do Pedido"}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.items.map((l,c)=>i.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0",children:[i.jsxs("span",{className:"text-gray-700",children:[l.quantity,"x ",l.product.name]}),i.jsxs("span",{className:"font-medium text-gray-800",children:["R$ ",(l.product.price*l.quantity).toFixed(2)]})]},c)),i.jsxs("div",{className:"pt-3 mt-3 border-t border-gray-200",children:[i.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[i.jsx("span",{children:"Subtotal:"}),i.jsxs("span",{children:["R$ ",a.subtotal.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[i.jsx("span",{children:"Taxa de entrega:"}),i.jsxs("span",{children:["R$ ",a.deliveryFee.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-800",children:[i.jsx("span",{children:"Total:"}),i.jsxs("span",{children:["R$ ",a.total.toFixed(2)]})]})]})]})]})]},a.id))}),e.length===0&&i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx(Pe,{size:48,className:"mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Nenhum pedido recebido ainda."}),i.jsx("p",{className:"text-sm",children:"Os pedidos do WhatsApp aparecerão aqui automaticamente!"})]})]})})}class bm{constructor(t,n,r){this.storeConfig=t,this.products=n,this.promotions=r}processMessage(t,n){n.toLowerCase().trim();const r=this.analyzeContext(t,n);switch(t.step){case"greeting":return this.handleGreeting(t,n,r);case"ordering":return this.handleOrdering(t,n,r);case"delivery_type":return this.handleDeliveryType(t,n,r);case"address_street":case"address_number":case"address_district":case"address_city":case"address_reference":return this.handleAddress(t,n,t.step,r);case"customer_name":return this.handleCustomerName(t,n,r);case"payment_method":return this.handlePayment(t,n,r);case"cash_amount":return this.handleCashAmount(t,n,r);case"waiting_pix_proof":return this.handlePixProof(t,n,r);default:return this.handleUnknown(t,n,r)}}analyzeContext(t,n){return{isFirstTime:(t.messages?.length||0)<3,hasCart:t.cart&&t.cart.length>0,cartTotal:t.cart?.reduce((s,o)=>s+o.product.price*o.quantity,0)||0,customerName:t.customerData?.name,timeOfDay:this.getTimeOfDay(),messageSentiment:this.analyzeSentiment(n),previousMessages:t.messages?.slice(-3)||[],isRushHour:this.isRushHour()}}analyzeSentiment(t){const n=["obrigado","valeu","legal","bom","ótimo","excelente","gostei","adoro","perfeito"],r=["ruim","péssimo","horrível","não gosto","detesto","problema","erro","cancelar"],s=t.toLowerCase(),o=n.filter(l=>s.includes(l)).length,a=r.filter(l=>s.includes(l)).length;return o>a?"positive":a>o?"negative":"neutral"}getTimeOfDay(){const t=new Date().getHours();return t>=5&&t<12?"morning":t>=12&&t<18?"afternoon":t>=18&&t<22?"evening":"night"}isRushHour(){const t=new Date().getHours();return t>=11&&t<=14||t>=18&&t<=21}handleGreeting(t,n,r){const s=n.toLowerCase();if(r.isFirstTime){const o=t.customerData?.name||null;return{response:this.generateWelcomeResponse(r,o),nextStep:"ordering",shouldSendImage:this.storeConfig.menuImage||this.storeConfig.menuImages?.[0]}}return s.includes("cardápio")||s.includes("cardapio")||s==="1"?{response:this.generateMenuResponse(r),nextStep:"ordering",shouldSendImage:this.storeConfig.menuImage||this.storeConfig.menuImages?.[0]}:s.includes("promoção")||s.includes("promocao")||s==="2"?{response:this.generatePromotionsResponse(r),nextStep:"ordering"}:{response:this.generateMenuResponse(r),nextStep:"ordering",shouldSendImage:this.storeConfig.menuImage||this.storeConfig.menuImages?.[0]}}generateWelcomeResponse(t,n=null){if(this.storeConfig.greeting){const c=n?`, ${n}`:"";return this.storeConfig.greeting.replace(/Olá!|Oi!|Bem-vindo/gi,h=>`${{morning:"Bom dia",afternoon:"Boa tarde",evening:"Boa noite",night:"Boa noite"}[t.timeOfDay]||"Olá"}${c}!`)}const s={morning:"Bom dia",afternoon:"Boa tarde",evening:"Boa noite",night:"Boa noite"}[t.timeOfDay]||"Olá",o=this.storeConfig.name,a=n?`, ${n}`:"",l=[`${s}${a}! 👋 Que alegria ter você aqui na ${o}! 😊

Acabei de preparar nosso cardápio especial pra você! 🍕✨

Me conta, o que você tá com vontade de experimentar hoje? 😋`,`${s}${a}! 🎉 Bem-vindo(a) à ${o}! Tô super feliz de te atender! 😄

Olha só que cardápio incrível preparei pra você! 🍕🔥

Qual delícia vai ser hoje? 🤔`,`${s}${a}! 🌟 Oi, tudo bem? Que bom que você veio pra ${o}! 😊

Dá uma olhada no nosso cardápio que tá uma delícia! 🍕💫

Me fala o que você tá afim de comer! 😍`,`${s}${a}! 🎊 Seja muito bem-vindo(a) à ${o}! Tô aqui pra te ajudar! 😄

Acabei de organizar nosso cardápio com as melhores opções! 🍕⭐

O que você gostaria de pedir? 😋`];return l[Math.floor(Math.random()*l.length)]}generateMenuResponse(t){const n=[`Perfeito! 🍕 Aqui está nosso cardápio completo da ${this.storeConfig.name}!

Todas as opções estão fresquinhas e prontas pra você! 😊

Me conta, qual delícia você tá com vontade? 😋`,`Ótima escolha! 📖 Aqui está nosso cardápio com todas as opções disponíveis!

Cada item foi preparado com muito carinho! ❤️

O que você gostaria de experimentar hoje? 🤔`,`Claro! 🍽️ Aqui está nosso cardápio completo!

Todas as opções estão uma delícia, pode escolher sem medo! 😄

Qual vai ser sua escolha? 😍`,`Beleza! 🍕 Aqui está nosso cardápio da ${this.storeConfig.name}!

Todas as opções estão incríveis, vai ser difícil escolher! 😅

Me fala o que você tá afim! 😋`];return n[Math.floor(Math.random()*n.length)]}generatePromotionsResponse(t){const n=this.promotions.filter(s=>s.active);if(n.length===0){const s=[`No momento não temos promoções ativas, mas nosso cardápio está recheado de opções deliciosas! 😊

Que tal dar uma olhada no nosso cardápio? Digite "1" ou "cardápio"! 🍕`,`Hoje não temos promoções, mas nosso cardápio está uma delícia! 😄

Dá uma olhada nas nossas opções! Digite "1" ou "cardápio"! 🍕✨`,`Promoções acabaram, mas nosso cardápio continua incrível! 😊

Vem ver as opções! Digite "1" ou "cardápio"! 🍕💫`];return s[Math.floor(Math.random()*s.length)]}const r=[`🔥 Temos promoções incríveis para você!

${n.map(s=>`• ${s.title}: ${s.description} (${s.discount}% OFF)`).join(`
`)}

Aproveite essas ofertas especiais! 😄`,`🎉 Promoções imperdíveis pra você!

${n.map(s=>`• ${s.title}: ${s.description} (${s.discount}% OFF)`).join(`
`)}

Corre aproveitar! 😍`,`💥 Ofertas especiais só pra você!

${n.map(s=>`• ${s.title}: ${s.description} (${s.discount}% OFF)`).join(`
`)}

Não perde essa chance! 🚀`];return r[Math.floor(Math.random()*r.length)]}handleOrdering(t,n,r){const s=n.toLowerCase();if(s.includes("finalizar")||s.includes("terminar")||s.includes("pronto")||s.includes("acabei")){if(!r.hasCart){const a=[`Ops! 😅 Ainda não adicionamos nada ao seu pedido.

Que tal escolher algo delicioso do nosso cardápio primeiro? 🍕

Pode me dizer o que você gostaria de experimentar! 😊`,`Hmm! 🤔 Seu carrinho ainda está vazio!

Que tal dar uma olhada no nosso cardápio e escolher algo incrível? 🍕

Me conta o que você tá afim de comer! 😋`,`😅 Ops! Ainda não tem nada no seu pedido!

Vamos escolher algo delicioso do nosso cardápio? 🍕

Tem várias opções incríveis pra você! 😍`,`🤔 Hmm, seu carrinho tá vazio!

Que tal escolher algo gostoso do nosso cardápio? 🍕

Tô aqui pra te ajudar a escolher! 😄`];return{response:a[Math.floor(Math.random()*a.length)],nextStep:"ordering"}}return{response:this.generateFinalizeResponse(t,r),nextStep:"delivery_type"}}const o=this.findProduct(n);if(o){const a=t.cart?.find(l=>l.product.id===o.id);return a?a.quantity+=1:(t.cart||(t.cart=[]),t.cart.push({product:o,quantity:1})),{response:this.generateProductAddedResponse(o,t,r),nextStep:"ordering"}}return{response:this.generateUnknownProductResponse(r),nextStep:"ordering"}}findProduct(t){const n=t.toLowerCase();return this.products.find(r=>r.name.toLowerCase().includes(n)||n.includes(r.name.toLowerCase()))||null}generateProductAddedResponse(t,n,r){const s=n.cart?.map(a=>`${a.quantity}x ${a.product.name}`).join(", ")||"",o=[`🎉 Perfeito! Adicionei ${t.name} ao seu pedido! 😊

📋 *Seu carrinho:*
${s}

Quer adicionar mais alguma coisa ou finalizar o pedido? 🤔`,`✅ Beleza! ${t.name} foi adicionado com sucesso! 😄

📋 *Seu pedido:*
${s}

Vai querer mais alguma coisa ou finalizar? 😋`,`🌟 Ótima escolha! ${t.name} tá no seu carrinho! 😍

📋 *Seu pedido:*
${s}

Quer adicionar mais alguma coisa ou finalizar? 🤔`,`💫 Incrível! ${t.name} foi adicionado ao seu pedido! ✨

📋 *Seu carrinho:*
${s}

Vai querer mais alguma coisa ou finalizar? 😊`];return o[Math.floor(Math.random()*o.length)]}generateUnknownProductResponse(t){const n=[`Hmm, não encontrei esse produto no nosso cardápio! 😅

Pode me dizer o nome exato ou dar uma olhada no cardápio? 🍕

Tô aqui pra te ajudar a encontrar o que você quer! 😊`,`Ops! Não tenho esse produto disponível! 😅

Que tal dar uma olhada no nosso cardápio pra ver as opções? 🍕

Tem várias delícias pra você escolher! 😋`,`Desculpa, não encontrei esse produto! 😅

Dá uma olhada no nosso cardápio que tem várias opções incríveis! 🍕

Me fala o que você tá afim! 😊`,`Não tenho esse produto no cardápio! 😅

Olha só as opções que temos disponíveis! 🍕

Tem coisa muito boa pra você! 😍`];return n[Math.floor(Math.random()*n.length)]}generateFinalizeResponse(t,n){const r=t.cart?.map(a=>`${a.quantity}x ${a.product.name} - R$ ${(a.product.price*a.quantity).toFixed(2)}`).join(`
`)||"",s=n.cartTotal,o=[`🎉 Perfeito! Vamos finalizar seu pedido!

📋 *RESUMO DO PEDIDO:*
${r}

💰 *Subtotal: R$ ${s.toFixed(2)}*

Agora preciso saber:

🚚 É para *ENTREGA* ou *RETIRADA*?

Digite:
• "Entrega" ou "1" para entrega
• "Retirada" ou "2" para retirar no local`,`✅ Beleza! Vamos finalizar seu pedido!

📋 *RESUMO DO PEDIDO:*
${r}

💰 *Subtotal: R$ ${s.toFixed(2)}*

Agora me conta:

🚚 É para *ENTREGA* ou *RETIRADA*?

Digite:
• "Entrega" ou "1" para entrega
• "Retirada" ou "2" para retirar no local`,`🌟 Incrível! Vamos finalizar seu pedido!

📋 *RESUMO DO PEDIDO:*
${r}

💰 *Subtotal: R$ ${s.toFixed(2)}*

Agora preciso saber:

🚚 É para *ENTREGA* ou *RETIRADA*?

Digite:
• "Entrega" ou "1" para entrega
• "Retirada" ou "2" para retirar no local`];return o[Math.floor(Math.random()*o.length)]}handleDeliveryType(t,n,r){const s=n.toLowerCase();if(s.includes("entrega")||s==="1"){const a=[`🚚 Perfeito! Vamos fazer a entrega na sua casa!

📝 Preciso dos dados do endereço:

🏠 *Rua/Avenida:*

Digite o nome da sua rua ou avenida:`,`🚚 Beleza! Vamos entregar na sua casa!

📝 Me conta os dados do endereço:

🏠 *Rua/Avenida:*

Digite o nome da sua rua ou avenida:`,`🚚 Incrível! Vamos levar até você!

📝 Preciso dos dados do endereço:

🏠 *Rua/Avenida:*

Digite o nome da sua rua ou avenida:`];return{response:a[Math.floor(Math.random()*a.length)],nextStep:"address_street"}}if(s.includes("retirada")||s==="2"){const a=[`✅ Ótimo! Você vai retirar no local!

📋 *RESUMO FINAL DO PEDIDO:*
${this.generateOrderSummary(t,r)}

💳 Como você gostaria de pagar?

Digite:
• "PIX" ou "1" para PIX
• "Dinheiro" ou "2" para dinheiro
• "Cartão" ou "3" para cartão`,`🎉 Perfeito! Vai retirar no local!

📋 *RESUMO FINAL DO PEDIDO:*
${this.generateOrderSummary(t,r)}

💳 Como você gostaria de pagar?

Digite:
• "PIX" ou "1" para PIX
• "Dinheiro" ou "2" para dinheiro
• "Cartão" ou "3" para cartão`,`🌟 Beleza! Retirada no local!

📋 *RESUMO FINAL DO PEDIDO:*
${this.generateOrderSummary(t,r)}

💳 Como você gostaria de pagar?

Digite:
• "PIX" ou "1" para PIX
• "Dinheiro" ou "2" para dinheiro
• "Cartão" ou "3" para cartão`];return{response:a[Math.floor(Math.random()*a.length)],nextStep:"payment_method"}}const o=[`❓ Desculpe, não entendi!

É para *ENTREGA* ou *RETIRADA*?

Digite:
• "Entrega" ou "1" para entrega
• "Retirada" ou "2" para retirar no local`,`🤔 Ops! Não entendi direito!

É para *ENTREGA* ou *RETIRADA*?

Digite:
• "Entrega" ou "1" para entrega
• "Retirada" ou "2" para retirar no local`,`😅 Desculpa! Pode repetir?

É para *ENTREGA* ou *RETIRADA*?

Digite:
• "Entrega" ou "1" para entrega
• "Retirada" ou "2" para retirar no local`];return{response:o[Math.floor(Math.random()*o.length)],nextStep:"delivery_type"}}handleAddress(t,n,r,s){switch(r){case"address_street":const o=[`🏠 Rua: ${n}

🏢 *Número:*

Digite o número da casa/apartamento:`,`🏠 Rua: ${n}

🏢 *Número:*

Me conta o número da casa/apartamento:`,`🏠 Rua: ${n}

🏢 *Número:*

Qual é o número da casa/apartamento?`];return{response:o[Math.floor(Math.random()*o.length)],nextStep:"address_number"};case"address_number":const a=[`🏢 Número: ${n}

🏘️ *Bairro:*

Digite o nome do bairro:`,`🏢 Número: ${n}

🏘️ *Bairro:*

Me conta o nome do bairro:`,`🏢 Número: ${n}

🏘️ *Bairro:*

Qual é o nome do bairro?`];return{response:a[Math.floor(Math.random()*a.length)],nextStep:"address_district"};case"address_district":const l=[`🏘️ Bairro: ${n}

🏙️ *Cidade:*

Digite o nome da cidade:`,`🏘️ Bairro: ${n}

🏙️ *Cidade:*

Me conta o nome da cidade:`,`🏘️ Bairro: ${n}

🏙️ *Cidade:*

Qual é o nome da cidade?`];return{response:l[Math.floor(Math.random()*l.length)],nextStep:"address_city"};case"address_city":const c=[`🏙️ Cidade: ${n}

📍 *Ponto de Referência:*

Digite um ponto de referência (opcional):`,`🏙️ Cidade: ${n}

📍 *Ponto de Referência:*

Me conta um ponto de referência (opcional):`,`🏙️ Cidade: ${n}

📍 *Ponto de Referência:*

Algum ponto de referência? (opcional)`];return{response:c[Math.floor(Math.random()*c.length)],nextStep:"address_reference"};case"address_reference":const u=t.customerData?.street||"",h=t.customerData?.number||"",g=t.customerData?.district||"",m=t.customerData?.city||"",w=`${u}, ${h} - ${g}, ${m}`,v=[`📍 Referência: ${n}

📋 *RESUMO FINAL DO PEDIDO:*
${this.generateOrderSummary(t,s)}

🏠 *ENDEREÇO:*
${w}

💳 Como você gostaria de pagar?

Digite:
• "PIX" ou "1" para PIX
• "Dinheiro" ou "2" para dinheiro
• "Cartão" ou "3" para cartão`,`📍 Referência: ${n}

📋 *RESUMO FINAL DO PEDIDO:*
${this.generateOrderSummary(t,s)}

🏠 *ENDEREÇO:*
${w}

💳 Como você gostaria de pagar?

Digite:
• "PIX" ou "1" para PIX
• "Dinheiro" ou "2" para dinheiro
• "Cartão" ou "3" para cartão`];return{response:v[Math.floor(Math.random()*v.length)],nextStep:"payment_method"};default:return{response:"❓ Erro no processamento do endereço. Tente novamente.",nextStep:"address_street"}}}handleCustomerName(t,n,r){const s=[`👤 Nome: ${n}

📋 *RESUMO FINAL DO PEDIDO:*
${this.generateOrderSummary(t,r)}

💳 Como você gostaria de pagar?

Digite:
• "PIX" ou "1" para PIX
• "Dinheiro" ou "2" para dinheiro
• "Cartão" ou "3" para cartão`,`👤 Nome: ${n}

📋 *RESUMO FINAL DO PEDIDO:*
${this.generateOrderSummary(t,r)}

💳 Como você gostaria de pagar?

Digite:
• "PIX" ou "1" para PIX
• "Dinheiro" ou "2" para dinheiro
• "Cartão" ou "3" para cartão`];return{response:s[Math.floor(Math.random()*s.length)],nextStep:"payment_method"}}handlePayment(t,n,r){const s=n.toLowerCase();if(s.includes("pix")||s==="1"){const a=this.storeConfig.pixKey,l=this.calculateTotal(t,r),c=[`💳 PIX selecionado!

📱 *Chave PIX:* ${a}
💰 *Valor:* R$ ${l.toFixed(2)}

📸 Envie o comprovante do PIX para finalizarmos seu pedido!

⏰ *Prazo:* 10 minutos`,`💳 Beleza! PIX é uma ótima escolha!

📱 *Chave PIX:* ${a}
💰 *Valor:* R$ ${l.toFixed(2)}

📸 Manda o comprovante do PIX pra gente finalizar!

⏰ *Prazo:* 10 minutos`,`💳 Perfeito! PIX é super prático!

📱 *Chave PIX:* ${a}
💰 *Valor:* R$ ${l.toFixed(2)}

📸 Envia o comprovante do PIX pra finalizarmos!

⏰ *Prazo:* 10 minutos`];return{response:c[Math.floor(Math.random()*c.length)],nextStep:"waiting_pix_proof"}}if(s.includes("dinheiro")||s==="2"){const a=this.calculateTotal(t,r),l=[`💵 Dinheiro selecionado!

💰 *Total do pedido:* R$ ${a.toFixed(2)}

💸 Qual valor você vai pagar?

Digite o valor (ex: 50.00):`,`💵 Beleza! Dinheiro é sempre uma boa opção!

💰 *Total do pedido:* R$ ${a.toFixed(2)}

💸 Qual valor você vai pagar?

Digite o valor (ex: 50.00):`,`💵 Perfeito! Dinheiro é super prático!

💰 *Total do pedido:* R$ ${a.toFixed(2)}

💸 Qual valor você vai pagar?

Digite o valor (ex: 50.00):`];return{response:l[Math.floor(Math.random()*l.length)],nextStep:"cash_amount"}}if(s.includes("cartão")||s.includes("cartao")||s==="3")return this.finalizeOrder(t,r,"CARD");const o=[`❓ Desculpe, não entendi!

💳 Como você gostaria de pagar?

Digite:
• "PIX" ou "1" para PIX
• "Dinheiro" ou "2" para dinheiro
• "Cartão" ou "3" para cartão`,`🤔 Ops! Não entendi direito!

💳 Como você gostaria de pagar?

Digite:
• "PIX" ou "1" para PIX
• "Dinheiro" ou "2" para dinheiro
• "Cartão" ou "3" para cartão`,`😅 Desculpa! Pode repetir?

💳 Como você gostaria de pagar?

Digite:
• "PIX" ou "1" para PIX
• "Dinheiro" ou "2" para dinheiro
• "Cartão" ou "3" para cartão`];return{response:o[Math.floor(Math.random()*o.length)],nextStep:"payment_method"}}handleCashAmount(t,n,r){const s=parseFloat(n.replace(/[^\d,.]/g,"").replace(",",".")),o=this.calculateTotal(t,r);if(isNaN(s)||s<o){const l=[`❌ Valor inválido!

💰 *Total do pedido:* R$ ${o.toFixed(2)}

💸 Digite um valor maior ou igual ao total:`,`😅 Ops! O valor precisa ser maior que o total!

💰 *Total do pedido:* R$ ${o.toFixed(2)}

💸 Digite um valor maior ou igual ao total:`,`🤔 Hmm, esse valor não dá!

💰 *Total do pedido:* R$ ${o.toFixed(2)}

💸 Digite um valor maior ou igual ao total:`];return{response:l[Math.floor(Math.random()*l.length)],nextStep:"cash_amount"}}const a=s-o;return this.finalizeOrder(t,r,"CASH",s,a)}handlePixProof(t,n,r){return this.finalizeOrder(t,r,"PIX")}finalizeOrder(t,n,r,s,o){const a=this.calculateTotal(t,n),l=t.customerData?.deliveryType||"pickup",c=t.customerData?.name||"Cliente",u=[`🎉 *PEDIDO FINALIZADO COM SUCESSO!*

👤 *Cliente:* ${c}
📋 *Resumo:* ${this.generateOrderSummary(t,n)}
💰 *Total:* R$ ${a.toFixed(2)}
🚚 *Tipo:* ${l==="delivery"?"Entrega":"Retirada"}
💳 *Pagamento:* ${this.getPaymentMethodText(r)}${r==="CASH"&&s&&o!==void 0?`
💸 *Valor pago:* R$ ${s.toFixed(2)}
🔄 *Troco:* R$ ${o.toFixed(2)}`:""}${l==="delivery"&&t.customerData?`
🏠 *Endereço:* ${t.customerData.street}, ${t.customerData.number} - ${t.customerData.district}, ${t.customerData.city}${t.customerData.reference?`
📍 *Referência:* ${t.customerData.reference}`:""}`:""}

⏰ *Tempo estimado:* ${l==="delivery"?"30-45 minutos":"15-20 minutos"}
📞 *Contato:* ${this.storeConfig.address}

Obrigado pela preferência! 😊`,`✅ *PEDIDO CONFIRMADO!*

👤 *Cliente:* ${c}
📋 *Resumo:* ${this.generateOrderSummary(t,n)}
💰 *Total:* R$ ${a.toFixed(2)}
🚚 *Tipo:* ${l==="delivery"?"Entrega":"Retirada"}
💳 *Pagamento:* ${this.getPaymentMethodText(r)}${r==="CASH"&&s&&o!==void 0?`
💸 *Valor pago:* R$ ${s.toFixed(2)}
🔄 *Troco:* R$ ${o.toFixed(2)}`:""}${l==="delivery"&&t.customerData?`
🏠 *Endereço:* ${t.customerData.street}, ${t.customerData.number} - ${t.customerData.district}, ${t.customerData.city}${t.customerData.reference?`
📍 *Referência:* ${t.customerData.reference}`:""}`:""}

⏰ *Tempo estimado:* ${l==="delivery"?"30-45 minutos":"15-20 minutos"}
📞 *Contato:* ${this.storeConfig.address}

Muito obrigado! 😍`,`🌟 *PEDIDO FINALIZADO!*

👤 *Cliente:* ${c}
📋 *Resumo:* ${this.generateOrderSummary(t,n)}
💰 *Total:* R$ ${a.toFixed(2)}
🚚 *Tipo:* ${l==="delivery"?"Entrega":"Retirada"}
💳 *Pagamento:* ${this.getPaymentMethodText(r)}${r==="CASH"&&s&&o!==void 0?`
💸 *Valor pago:* R$ ${s.toFixed(2)}
🔄 *Troco:* R$ ${o.toFixed(2)}`:""}${l==="delivery"&&t.customerData?`
🏠 *Endereço:* ${t.customerData.street}, ${t.customerData.number} - ${t.customerData.district}, ${t.customerData.city}${t.customerData.reference?`
📍 *Referência:* ${t.customerData.reference}`:""}`:""}

⏰ *Tempo estimado:* ${l==="delivery"?"30-45 minutos":"15-20 minutos"}
📞 *Contato:* ${this.storeConfig.address}

Obrigado! 😄`];return{response:u[Math.floor(Math.random()*u.length)],nextStep:"completed"}}generateOrderSummary(t,n){const r=t.cart?.map(c=>`${c.quantity}x ${c.product.name}`).join(", ")||"",s=n.cartTotal,o=t.customerData?.deliveryType==="delivery"?this.storeConfig.deliveryFee:0,a=s+o;let l=`${r}`;return o>0&&(l+=`
🚚 Taxa de entrega: R$ ${o.toFixed(2)}`),l+=`
💰 Total: R$ ${a.toFixed(2)}`,l}calculateTotal(t,n){const r=n.cartTotal,s=t.customerData?.deliveryType==="delivery"?this.storeConfig.deliveryFee:0;return r+s}getPaymentMethodText(t){switch(t){case"PIX":return"PIX";case"CASH":return"Dinheiro";case"CARD":return"Cartão";default:return t}}handleUnknown(t,n,r){const s=[`Hmm, não entendi muito bem! 😅

Que tal dar uma olhada no nosso cardápio? Digite "cardápio" ou "1"! 🍕

Tô aqui pra te ajudar! 😊`,`Ops! Não consegui entender! 🤔

Dá uma olhada no nosso cardápio! Digite "cardápio" ou "1"! 🍕

Tem várias delícias pra você! 😋`,`Desculpa, não entendi! 😅

Que tal ver nosso cardápio? Digite "cardápio" ou "1"! 🍕

Tô aqui pra te ajudar a escolher! 😄`,`🤔 Hmm, não entendi direito!

Dá uma olhada no nosso cardápio! Digite "cardápio" ou "1"! 🍕

Tem coisa muito boa pra você! 😍`];return{response:s[Math.floor(Math.random()*s.length)],nextStep:"ordering"}}}function Rm({storeConfig:e,products:t,promotions:n,sessions:r,onUpdateSession:s,onCreateOrder:o}){const[a,l]=_.useState(null),[c,u]=_.useState(""),h=_.useRef(null),[g,m]=_.useState(""),w=new bm(e,t,n),v=()=>{h.current?.scrollIntoView({behavior:"smooth"})};_.useEffect(()=>{v()},[a,r]);const N=()=>{if(!g.trim())return;const y=g.trim();r.find(k=>k.phone===y)||s(y,{phone:y,cart:[],step:"greeting",messages:[],customerData:{},lastActivity:new Date}),l(y),m("")},D=(y,S="customer")=>{if(!a)return;const k=r.find(R=>R.phone===a);if(!k)return;const E={id:Date.now().toString(),type:S,content:y,timestamp:new Date},z=[...k.messages||[],E];s(a,{messages:z}),S==="customer"&&setTimeout(()=>{d(k,y)},500)},f=(y,S)=>{if(!a)return;const k=r.find(R=>R.phone===a);if(!k)return;const E={id:Date.now().toString(),type:"bot",content:y,image:S,timestamp:new Date},z=[...k.messages||[],E];s(a,{messages:z})},d=(y,S)=>{const k=w.processMessage(y,S);f(k.response,k.shouldSendImage);const E={step:k.nextStep,lastActivity:new Date};if(k.nextStep==="ordering"&&S.toLowerCase().includes("finalizar")===!1){const z=t.find(R=>R.name.toLowerCase().includes(S.toLowerCase())||S.toLowerCase().includes(R.name.toLowerCase()));if(z){const R=y.cart.find(ae=>ae.product.id===z.id);let se;R?se=y.cart.map(ae=>ae.product.id===z.id?{...ae,quantity:ae.quantity+1}:ae):se=[...y.cart,{product:z,quantity:1}],E.cart=se}}if(k.nextStep==="address_street"&&(E.customerData={...y.customerData,deliveryType:"delivery"}),k.nextStep==="payment_method"&&y.customerData?.deliveryType!=="delivery"&&(E.customerData={...y.customerData,deliveryType:"pickup"}),k.nextStep==="address_number"&&(E.customerData={...y.customerData,street:S}),k.nextStep==="address_district"&&(E.customerData={...y.customerData,number:S}),k.nextStep==="address_city"&&(E.customerData={...y.customerData,district:S}),k.nextStep==="address_reference"&&(E.customerData={...y.customerData,city:S}),k.nextStep==="payment_method"&&(E.customerData={...y.customerData,reference:S}),k.nextStep==="payment_method"&&y.step==="customer_name"&&(E.customerData={...y.customerData,name:S}),k.nextStep==="cash_amount"||k.nextStep==="waiting_pix_proof"){const z=S.toLowerCase();let R="PIX";z.includes("dinheiro")||z==="2"?R="CASH":(z.includes("cartão")||z.includes("cartao")||z==="3")&&(R="CARD"),E.customerData={...y.customerData,paymentMethod:R}}if(k.nextStep==="completed"&&y.customerData?.paymentMethod==="CASH"){const z=parseFloat(S.replace(/[^\d,.]/g,"").replace(",",".")),R=y.cart.reduce((T,P)=>T+P.product.price*P.quantity,0),ae=y.customerData?.deliveryType==="delivery"?R+e.deliveryFee:R,Ke=z-ae;E.customerData={...y.customerData,cashAmount:z,change:Ke}}s(y.phone,E),k.nextStep==="completed"&&setTimeout(()=>{o(y.phone)},2e3)},p=y=>{y.preventDefault(),c.trim()&&a&&(D(c.trim()),u(""))},x=a?r.find(y=>y.phone===a):null;return i.jsx("div",{className:"max-w-6xl mx-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsxs("div",{className:"bg-green-600 text-white p-4",children:[i.jsx("h3",{className:"text-xl font-semibold",children:"Simulador do Bot WhatsApp"}),i.jsx("p",{className:"text-green-100 text-sm",children:"Simule conversas para testar o fluxo de pedidos com IA"})]}),i.jsxs("div",{className:"flex h-96",children:[i.jsxs("div",{className:"w-1/3 border-r border-gray-200 bg-gray-50",children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:g,onChange:y=>m(y.target.value),placeholder:"Simular número...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500"}),i.jsx("button",{onClick:N,className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Iniciar"})]})}),i.jsx("div",{className:"overflow-y-auto h-full",children:r.map(y=>i.jsxs("button",{onClick:()=>l(y.phone),className:`w-full p-3 text-left border-b border-gray-200 hover:bg-gray-100 transition-colors ${a===y.phone?"bg-green-50 border-r-2 border-green-600":""}`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(mh,{size:16,className:"text-gray-600"}),i.jsx("span",{className:"font-medium",children:y.phone})]}),i.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[y.cart.length," itens • ",y.step]})]},y.phone))})]}),i.jsx("div",{className:"flex-1 flex flex-col",children:x?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[(x.messages||[]).map(y=>i.jsx("div",{className:`flex ${y.type==="customer"?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${y.type==="customer"?"bg-green-600 text-white":"bg-gray-200 text-gray-800"}`,children:[y.image&&i.jsx("img",{src:y.image,alt:"",className:"w-full h-32 object-cover rounded mb-2"}),i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:y.content}),i.jsx("p",{className:`text-xs mt-1 ${y.type==="customer"?"text-green-100":"text-gray-500"}`,children:y.timestamp.toLocaleTimeString()})]})},y.id)),i.jsx("div",{ref:h})]}),i.jsx("form",{onSubmit:p,className:"p-4 border-t border-gray-200",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:c,onChange:y=>u(y.target.value),placeholder:"Digite sua mensagem...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"}),i.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:i.jsx(xh,{size:18})})]})})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:i.jsxs("div",{className:"text-center",children:[i.jsx(jh,{size:48,className:"mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Selecione uma conversa ou inicie uma nova"}),i.jsx("p",{className:"text-sm",children:"para testar o bot com IA"})]})})})]})]})})}function Tm({onBack:e}){const[t,n]=_.useState(""),[r,s]=_.useState(!1),[o,a]=_.useState(null),l=async()=>{if(t.trim()){s(!0);try{const h=await fetch("/api/ai/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t})});if(h.ok){const g=await h.json();a(g)}else console.error("Erro ao testar IA")}catch(h){console.error("Erro ao testar IA:",h)}finally{s(!1)}}},c=h=>{h.preventDefault(),l()},u=["quero uma piza","dois hamburguer","uma pizza margherita","tres refrigerante","batata frita","suco natural","um hamburguer e dois refrigerante","pizzza margarita","hamburguer com batata","sobremesa doce"];return i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("button",{onClick:e,className:"text-gray-600 hover:text-gray-800 transition-colors",children:"← Voltar"}),i.jsx(yi,{className:"text-purple-600",size:24}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Testador de IA - Correção de Digitações"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Digite um texto para testar a IA:"}),i.jsxs("form",{onSubmit:c,className:"space-y-3",children:[i.jsx("input",{type:"text",value:t,onChange:h=>n(h.target.value),placeholder:"Ex: quero uma piza",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),i.jsx("button",{type:"submit",disabled:r||!t.trim(),className:"w-full flex items-center justify-center gap-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Testando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Nh,{size:18}),"Testar IA"]})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Exemplos para testar:"}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:u.map((h,g)=>i.jsxs("button",{onClick:()=>n(h),className:"text-left p-2 text-sm text-gray-600 hover:bg-gray-50 rounded border border-gray-200 hover:border-purple-300 transition-colors",children:['"',h,'"']},g))})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Resultado da IA:"}),o&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:`p-3 rounded-lg border ${o.response.success?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[o.response.success?i.jsx(gr,{className:"text-green-600",size:20}):i.jsx(ch,{className:"text-yellow-600",size:20}),i.jsx("span",{className:"font-medium",children:o.response.success?"Produto Encontrado!":"Produto Não Encontrado"})]}),i.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Confiança: ",(o.response.confidence*100).toFixed(1),"%"]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"Texto Original:"}),i.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:o.input})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"Texto Normalizado:"}),i.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:o.normalized})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"Texto Corrigido:"}),i.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:o.corrected})]}),o.numbers.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"Números Detectados:"}),i.jsx("p",{className:"text-sm bg-blue-50 p-2 rounded",children:o.numbers.join(", ")})]}),o.response.success&&o.response.product&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"Produto Encontrado:"}),i.jsxs("div",{className:"bg-green-50 p-3 rounded border border-green-200",children:[i.jsx("p",{className:"font-medium text-green-800",children:o.response.product.name}),i.jsxs("p",{className:"text-sm text-green-600",children:["R$ ",o.response.product.price.toFixed(2)]})]})]}),o.response.suggestions&&o.response.suggestions.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"Sugestões:"}),i.jsx("div",{className:"space-y-2",children:o.response.suggestions.map((h,g)=>i.jsxs("div",{className:"bg-yellow-50 p-2 rounded border border-yellow-200",children:[i.jsx("p",{className:"text-sm font-medium",children:h.product.name}),i.jsxs("p",{className:"text-xs text-gray-600",children:["Confiança: ",(h.score*100).toFixed(1),"%"]})]},g))})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"Resposta da IA:"}),i.jsx("p",{className:"text-sm bg-purple-50 p-3 rounded border border-purple-200",children:o.response.message})]})]})]}),!o&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(yi,{size:48,className:"mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Digite um texto para testar o sistema de IA"}),i.jsx("p",{className:"text-sm",children:"A IA irá corrigir digitações e identificar produtos"})]})]})]})]})})}function Dm({order:e,onClose:t,storeName:n,storeAddress:r}){const s=()=>{window.print()};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Cupom Fiscal"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:s,className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[i.jsx(md,{size:16}),"Imprimir"]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(yr,{size:24})})]})]}),i.jsxs("div",{className:"p-4 print:p-2",id:"print-content",children:[i.jsxs("div",{className:"text-center mb-4 print:mb-2 border-b border-gray-300 pb-2",children:[i.jsx("h1",{className:"text-lg font-bold text-gray-800 print:text-base",children:n}),i.jsx("p",{className:"text-xs text-gray-600 print:text-xs",children:r}),i.jsx("p",{className:"text-xs text-gray-600 print:text-xs mt-1",children:"CNPJ: 00.000.000/0001-00"}),i.jsx("p",{className:"text-xs text-gray-600 print:text-xs",children:"IE: 000.000.000.000"})]}),i.jsxs("div",{className:"mb-4 print:mb-2",children:[i.jsxs("div",{className:"text-center mb-2",children:[i.jsx("h2",{className:"text-sm font-bold text-gray-800 print:text-xs",children:"CUPOM NÃO FISCAL"}),i.jsxs("p",{className:"text-xs text-gray-600 print:text-xs",children:["#",e.id]})]}),i.jsxs("div",{className:"text-xs text-gray-600 print:text-xs space-y-1",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Data:"})," ",e.createdAt instanceof Date?e.createdAt.toLocaleDateString():new Date(e.createdAt).toLocaleDateString()]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Hora:"})," ",e.createdAt instanceof Date?e.createdAt.toLocaleTimeString():new Date(e.createdAt).toLocaleTimeString()]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Cliente:"})," ",e.customerName||"Não informado"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Telefone:"})," ",e.customerPhone]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Tipo:"})," ",e.deliveryType==="delivery"?"ENTREGA":"RETIRADA"]})]})]}),e.deliveryType==="delivery"&&e.address&&i.jsxs("div",{className:"mb-4 print:mb-2 border-t border-gray-300 pt-2",children:[i.jsx("h3",{className:"text-xs font-bold text-gray-800 print:text-xs mb-1",children:"ENDEREÇO DE ENTREGA"}),i.jsx("p",{className:"text-xs text-gray-600 print:text-xs",children:e.address})]}),i.jsxs("div",{className:"mb-4 print:mb-2 border-t border-gray-300 pt-2",children:[i.jsx("h3",{className:"text-xs font-bold text-gray-800 print:text-xs mb-2",children:"ITENS DO PEDIDO"}),i.jsx("div",{className:"space-y-1",children:e.items.map((o,a)=>i.jsxs("div",{className:"flex justify-between text-xs print:text-xs",children:[i.jsxs("span",{className:"flex-1",children:[o.quantity,"x ",o.product.name]}),i.jsxs("span",{className:"font-medium",children:["R$ ",(o.product.price*o.quantity).toFixed(2)]})]},a))})]}),i.jsx("div",{className:"mb-4 print:mb-2 border-t border-gray-300 pt-2",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between text-xs print:text-xs",children:[i.jsx("span",{children:"Subtotal:"}),i.jsxs("span",{children:["R$ ",e.subtotal.toFixed(2)]})]}),e.deliveryType==="delivery"&&i.jsxs("div",{className:"flex justify-between text-xs print:text-xs",children:[i.jsx("span",{children:"Taxa de Entrega:"}),i.jsxs("span",{children:["R$ ",e.deliveryFee.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-sm font-bold text-gray-800 print:text-xs border-t border-gray-300 pt-1",children:[i.jsx("span",{children:"TOTAL:"}),i.jsxs("span",{children:["R$ ",e.total.toFixed(2)]})]})]})}),i.jsxs("div",{className:"mb-4 print:mb-2 border-t border-gray-300 pt-2",children:[i.jsx("h3",{className:"text-xs font-bold text-gray-800 print:text-xs mb-1",children:"FORMA DE PAGAMENTO"}),i.jsxs("div",{className:"text-xs text-gray-600 print:text-xs space-y-1",children:[i.jsx("p",{children:e.paymentMethod==="PIX"?"PIX":e.paymentMethod==="CASH"?"DINHEIRO":"CARTÃO"}),e.paymentMethod==="CASH"&&e.cashAmount&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["Valor Pago: R$ ",e.cashAmount.toFixed(2)]}),i.jsxs("p",{children:["Troco: R$ ",e.change?.toFixed(2)]})]})]})]}),i.jsxs("div",{className:"mb-4 print:mb-2 border-t border-gray-300 pt-2",children:[i.jsx("h3",{className:"text-xs font-bold text-gray-800 print:text-xs mb-1",children:"STATUS"}),i.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium print:text-xs ${e.status==="NEW"?"bg-yellow-100 text-yellow-800":e.status==="PREPARING"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:e.status==="NEW"?"NOVO":e.status==="PREPARING"?"EM PREPARO":"FINALIZADO"})]}),i.jsxs("div",{className:"text-center border-t border-gray-300 pt-2",children:[i.jsx("p",{className:"text-xs text-gray-600 print:text-xs",children:"Obrigado pela preferência!"}),i.jsx("p",{className:"text-xs text-gray-600 print:text-xs",children:n}),i.jsx("p",{className:"text-xs text-gray-600 print:text-xs",children:r})]})]})]})})}function Am({isOpen:e,onClose:t,onConnectionChange:n}){const[r,s]=_.useState(null),[o,a]=_.useState(!1),[l,c]=_.useState(!1),[u,h]=_.useState(!1),[g,m]=_.useState(null),w=_.useRef(!0),v=_.useRef(null),N=_.useRef(null);_.useEffect(()=>{const y=document.createElement("div");return y.id="whatsapp-modal-portal",document.body.appendChild(y),m(y),()=>{w.current=!1,v.current&&clearTimeout(v.current),N.current&&clearTimeout(N.current),y&&document.body.contains(y)&&document.body.removeChild(y)}},[]),_.useEffect(()=>{e&&(a(!1),c(!1),h(!1))},[e]);const D=(y,S)=>{w.current&&y(S)},f=()=>{o||l||u||(D(a,!0),v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{w.current&&(t(),D(a,!1))},1e3))},d=y=>{console.log("=== WHATSAPP MODAL: handleQRCode ==="),console.log("QR Code recebido no modal, tamanho:",y?.length||0),D(s,y)},p=y=>{console.log("=== WHATSAPP MODAL: handleConnectionChange ==="),console.log("Status de conexão:",y),!(l||u)&&(D(c,!0),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{w.current&&(console.log("Executando onConnectionChange com:",y),n(y),y&&(D(h,!0),D(s,null),setTimeout(()=>{w.current&&f()},2e3)),D(c,!1))},500))};if(!e||o||u||!g)return null;const x=i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Configuração WhatsApp"}),i.jsx("button",{onClick:f,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:o||l||u,children:i.jsx(yr,{size:24})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[i.jsx(Dd,{onConnectionChange:p,onQRCode:d}),r&&i.jsxs("div",{className:"flex flex-col items-center mt-6",children:[i.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-lg",children:i.jsx("img",{src:r,alt:"QR Code WhatsApp",className:"w-[300px] h-[300px] object-contain"})}),i.jsx("p",{className:"mt-4 text-gray-700 text-center max-w-md",children:"Escaneie este QR Code com o app do WhatsApp para conectar."})]})]})]})});return pd.createPortal(x,g)}const zm=()=>{const{isSaving:e,lastSaveStatus:t}=Da(),[n,r]=_.useState(!1);return _.useEffect(()=>{if(e||t)r(!0);else{const s=setTimeout(()=>r(!1),300);return()=>clearTimeout(s)}},[e,t]),n?i.jsx("div",{className:"fixed top-4 right-4 z-50",children:i.jsxs("div",{className:`
        flex items-center space-x-3 px-4 py-3 rounded-lg shadow-lg border-l-4 transition-all duration-300 transform
        ${e?"bg-blue-50 border-blue-400 text-blue-800":t==="success"?"bg-green-50 border-green-400 text-green-800":"bg-red-50 border-red-400 text-red-800"}
      `,children:[e&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),i.jsx("span",{className:"font-medium",children:"Salvando alterações..."})]}),t==="success"&&i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"h-5 w-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),i.jsx("span",{className:"font-medium",children:"Alterações salvas com sucesso!"})]}),t==="error"&&i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"h-5 w-5 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),i.jsx("span",{className:"font-medium",children:"Erro ao salvar alterações"})]})]})}):null};function Om(){const[e,t]=_.useState("dashboard"),[n,r]=_.useState(null),[s,o]=_.useState(!1),[a,l]=_.useState(null),[c,u]=_.useState(!1),h=_.useRef(!0),g=_.useRef(!1),{storeConfig:m,updateStoreConfig:w,categories:v,addCategory:N,updateCategory:D,deleteCategory:f,addProduct:d,updateProduct:p,deleteProduct:x,promotions:y,addPromotion:S,updatePromotion:k,deletePromotion:E,orders:z,addOrder:R,updateOrderStatus:se,customerSessions:ae,updateSession:Ke,getAllProducts:T}=Da(),P=(W,V)=>{h.current&&W(V)};_.useEffect(()=>()=>{h.current=!1},[]);const O=W=>{w({menuImage:W})},L=W=>{w({menuImages:W})};_.useEffect(()=>{if(g.current){console.log("WhatsApp já foi inicializado, pulando...");return}function W(){console.log("=== APP: Inicializando WhatsApp ==="),g.current=!0,Td(void 0,()=>{P(o,!0),P(u,!1)},()=>{P(o,!1),P(u,!0)})}const V=lt.getSocket&&lt.getSocket();V&&V.connected?(console.log("Socket já conectado, inicializando WhatsApp..."),W()):V?(console.log("Socket existe mas não conectado, aguardando conexão..."),V.on("connect",()=>{console.log("Socket conectou, inicializando WhatsApp..."),h.current&&!g.current&&W()})):(console.log("Socket não existe, aguardando criação..."),setTimeout(()=>{if(h.current&&!g.current){const Ae=lt.getSocket&&lt.getSocket();Ae&&Ae.connected?(console.log("Socket criado e conectado, inicializando WhatsApp..."),W()):Ae?(console.log("Socket criado mas não conectado, aguardando..."),Ae.on("connect",()=>{h.current&&!g.current&&W()})):(console.log("Socket ainda não disponível, tentando inicializar mesmo assim..."),W())}},2e3))},[]);const C=()=>{P(u,!0)},A=W=>{P(o,W)},M=W=>{r(W),t("products")},K=()=>{r(null),t("categories")},te=W=>{const V=ae.find(qs=>qs.phone===W);if(!V||V.cart.length===0)return;const Ae=V.cart.reduce((qs,Oa)=>qs+Oa.product.price*Oa.quantity,0),Aa=V.customerData?.deliveryType==="delivery"?m.deliveryFee:0,za=Ae+Aa,Ad=V.customerData?.cashAmount?V.customerData.cashAmount-za:void 0,zd={customerName:V.customerData?.name,customerPhone:V.phone,items:V.cart,subtotal:Ae,deliveryFee:Aa,total:za,address:V.customerData?.address,deliveryType:V.customerData?.deliveryType,paymentMethod:V.customerData?.paymentMethod||"PIX",cashAmount:V.customerData?.cashAmount,change:Ad,status:"NEW"};R(zd)},Yt=W=>{l(W)},rt=()=>{switch(e){case"dashboard":return i.jsx(Jl,{orders:z,categories:v,storeConfig:m,onTabChange:t,onOpenWhatsAppSettings:C});case"menu":return i.jsx(Em,{menuImage:m.menuImage,menuImages:m.menuImages,onUpdateMenuImage:O,onUpdateMenuImages:L});case"categories":return i.jsx(ec,{categories:v,onAddCategory:N,onUpdateCategory:D,onDeleteCategory:f,onSelectCategory:M});case"products":return n?i.jsx(Cm,{category:n,onBack:K,onAddProduct:d,onUpdateProduct:p,onDeleteProduct:x}):i.jsx(ec,{categories:v,onAddCategory:N,onUpdateCategory:D,onDeleteCategory:f,onSelectCategory:M});case"promotions":return i.jsx(_m,{promotions:y,onAddPromotion:S,onUpdatePromotion:k,onDeletePromotion:E});case"orders":return i.jsx(Pm,{orders:z,onUpdateStatus:se,onPrint:Yt});case"bot":return i.jsx(Rm,{storeConfig:m,products:T(),promotions:y,sessions:ae,onUpdateSession:Ke,onCreateOrder:te});case"ai-tester":return i.jsx(Tm,{onBack:()=>t("dashboard")});case"settings":return i.jsx(Sm,{config:m,onUpdate:w});default:return i.jsx(Jl,{orders:z,categories:v,storeConfig:m,onTabChange:t})}};return i.jsxs("div",{className:"flex h-screen bg-gray-100",children:[i.jsx(Eh,{activeTab:e,onTabChange:W=>{t(W),W==="bot"&&!c&&setTimeout(()=>{h.current&&u(!0)},100)}}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(jm,{onOpenWhatsAppSettings:C}),i.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 p-6",children:rt()})]}),i.jsx(zm,{}),a&&i.jsx(Dm,{order:a,onClose:()=>l(null),storeName:m.name,storeAddress:m.address}),c&&i.jsx(Am,{isOpen:c,onClose:()=>{h.current&&u(!1)},onConnectionChange:A},`whatsapp-modal-${Date.now()}`)]})}hd(document.getElementById("root")).render(i.jsx(_.StrictMode,{children:i.jsx(Om,{})}));
